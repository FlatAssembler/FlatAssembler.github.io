
<!doctype html>
<html>
<head>
    <title>nQueensPuzzle.aec - Syntax Highlighted in NodeJS</title>
    <style type="text/css">
    pre {
       font-size: 13px;
    }
    .LineNumber {
       color: #772200;
       font-weight: normal;
    }
    .Type {
       color: #775500;
       font-weight: bold;
    }
    .Keyword {
        color: #770000;
        font-weight: bold;
    }
    .Comment {
        color: #004444;
        font-weight: bold;
    }
    .Parenthesis {
        color: #333322;
        font-weight: bold;
    }
    .Operator {
        color: #770077;
        font-weight: bold;
    }
    .Constant {
        color: #006600;
        font-weight: bold;
    }
    .String {
        color: #003377;
    }
    </style>
</head>
<body>
<pre>   <span class="LineNumber">1</span> <span class="Comment">/*
   <span class="LineNumber">2</span>  * My solution to the n-queens puzzle, one of the classical problems of the
   <span class="LineNumber">3</span>  * structural programming. It asks in how many ways you can arrange n chess
   <span class="LineNumber">4</span>  * queens on an n-times-n chessboard without breaking the rules that no two 
   <span class="LineNumber">5</span>  * chess queens can be in the same row, column or diagonal.
   <span class="LineNumber">6</span>  */</span>
   <span class="LineNumber">7</span> 
   <span class="LineNumber">8</span> <span class="Comment">// Import some functions we need to communicate with the outside world from
   <span class="LineNumber">9</span> </span><span class="Comment">// JavaScript...
  <span class="LineNumber">10</span> </span><span class="Keyword">Function</span> printString<span class="Parenthesis">(</span><span class="Type">CharacterPointer</span> str<span class="Parenthesis">)</span>
  <span class="LineNumber">11</span>   <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Nothing</span> <span class="Keyword">Is</span> <span class="Keyword">External</span><span class="Keyword">;</span>
  <span class="LineNumber">12</span> <span class="Keyword">Function</span> clearScreen<span class="Parenthesis">(</span><span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Nothing</span> <span class="Keyword">Is</span> <span class="Keyword">External</span><span class="Keyword">;</span>
  <span class="LineNumber">13</span> <span class="Keyword">Function</span> shouldWePrintChessBoards<span class="Parenthesis">(</span><span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Integer32</span> <span class="Keyword">Is</span> <span class="Keyword">External</span><span class="Keyword">;</span>
  <span class="LineNumber">14</span> 
  <span class="LineNumber">15</span> <span class="Comment">// Declare the "Queen" structure and write relevant functions.
  <span class="LineNumber">16</span> </span><span class="Keyword">Structure</span> Queen <span class="Keyword">Consists</span> <span class="Keyword">Of</span>
  <span class="LineNumber">17</span>   <span class="Type">Integer32</span> row<span class="Operator">,</span> column<span class="Keyword">;</span>
  <span class="LineNumber">18</span> <span class="Keyword">EndStructure</span>
  <span class="LineNumber">19</span> 
  <span class="LineNumber">20</span> <span class="Keyword">Function</span> areQueensInTheSameColumn<span class="Parenthesis">(</span><span class="Type">QueenPointer</span> first<span class="Operator">,</span> <span class="Type">QueenPointer</span> second<span class="Parenthesis">)</span>
  <span class="LineNumber">21</span>   <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Integer32</span> <span class="Keyword">Does</span>
  <span class="LineNumber">22</span>     <span class="Keyword">Return</span> first<span class="Operator">-</span><span class="Operator">&gt;</span>column <span class="Operator">=</span> second<span class="Operator">-</span><span class="Operator">&gt;</span>column<span class="Keyword">;</span>
  <span class="LineNumber">23</span> <span class="Keyword">EndFunction</span>
  <span class="LineNumber">24</span> 
  <span class="LineNumber">25</span> <span class="Keyword">Function</span> areQueensInTheSameRow<span class="Parenthesis">(</span><span class="Type">QueenPointer</span> first<span class="Operator">,</span> <span class="Type">QueenPointer</span> second<span class="Parenthesis">)</span>
  <span class="LineNumber">26</span>   <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Integer32</span> <span class="Keyword">Does</span>
  <span class="LineNumber">27</span>     <span class="Keyword">Return</span> first<span class="Operator">-</span><span class="Operator">&gt;</span>row <span class="Operator">=</span> second<span class="Operator">-</span><span class="Operator">&gt;</span>row<span class="Keyword">;</span>
  <span class="LineNumber">28</span> <span class="Keyword">EndFunction</span>
  <span class="LineNumber">29</span> 
  <span class="LineNumber">30</span> <span class="Keyword">Function</span> areQueensOnTheSameDiagonal<span class="Parenthesis">(</span><span class="Type">QueenPointer</span> first<span class="Operator">,</span>
  <span class="LineNumber">31</span>                                     <span class="Type">QueenPointer</span> second<span class="Parenthesis">)</span>
  <span class="LineNumber">32</span>   <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Integer32</span> <span class="Keyword">Does</span>
  <span class="LineNumber">33</span>     <span class="Keyword">Return</span> first<span class="Operator">-</span><span class="Operator">&gt;</span>row <span class="Operator">+</span> first<span class="Operator">-</span><span class="Operator">&gt;</span>column <span class="Operator">=</span> second<span class="Operator">-</span><span class="Operator">&gt;</span>row <span class="Operator">+</span> second<span class="Operator">-</span><span class="Operator">&gt;</span>column <span class="Operator">or</span>
  <span class="LineNumber">34</span>            first<span class="Operator">-</span><span class="Operator">&gt;</span>row <span class="Operator">-</span> first<span class="Operator">-</span><span class="Operator">&gt;</span>column <span class="Operator">=</span> second<span class="Operator">-</span><span class="Operator">&gt;</span>row <span class="Operator">-</span> second<span class="Operator">-</span><span class="Operator">&gt;</span>column<span class="Keyword">;</span>
  <span class="LineNumber">35</span> <span class="Keyword">EndFunction</span>
  <span class="LineNumber">36</span> 
  <span class="LineNumber">37</span> <span class="Keyword">Function</span> areQueensAttackingEachOther<span class="Parenthesis">(</span><span class="Type">QueenPointer</span> first<span class="Operator">,</span>
  <span class="LineNumber">38</span>                                      <span class="Type">QueenPointer</span> second<span class="Parenthesis">)</span>
  <span class="LineNumber">39</span>   <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Integer32</span> <span class="Keyword">Does</span>
  <span class="LineNumber">40</span>     <span class="Keyword">Return</span> areQueensInTheSameRow<span class="Parenthesis">(</span>first<span class="Operator">,</span> second<span class="Parenthesis">)</span> <span class="Operator">or</span>
  <span class="LineNumber">41</span>            areQueensInTheSameColumn<span class="Parenthesis">(</span>first<span class="Operator">,</span> second<span class="Parenthesis">)</span> <span class="Operator">or</span>
  <span class="LineNumber">42</span>            areQueensOnTheSameDiagonal<span class="Parenthesis">(</span>first<span class="Operator">,</span> second<span class="Parenthesis">)</span><span class="Keyword">;</span>
  <span class="LineNumber">43</span> <span class="Keyword">EndFunction</span>
  <span class="LineNumber">44</span> 
  <span class="LineNumber">45</span> <span class="Comment">// Let's write a structure representing an array of queens...
  <span class="LineNumber">46</span> </span><span class="Keyword">Structure</span> ChessBoard <span class="Keyword">Consists</span> <span class="Keyword">Of</span>
  <span class="LineNumber">47</span>   <span class="Type">Integer32</span> length<span class="Keyword">;</span>
  <span class="LineNumber">48</span>   Queen queens<span class="Parenthesis">[</span><span class="Constant">12</span><span class="Parenthesis">]</span><span class="Keyword">;</span> <span class="Comment">// There are too many solutions for over 12 queens.
  <span class="LineNumber">49</span> </span><span class="Keyword">EndStructure</span>
  <span class="LineNumber">50</span> 
  <span class="LineNumber">51</span> <span class="Keyword">Function</span> chessBoardContainsThatQueen<span class="Parenthesis">(</span><span class="Type">ChessBoardPointer</span> chessBoard<span class="Operator">,</span>
  <span class="LineNumber">52</span>                                       <span class="Type">QueenPointer</span> queen<span class="Parenthesis">)</span>
  <span class="LineNumber">53</span>                                       <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Integer32</span> <span class="Keyword">Does</span>
  <span class="LineNumber">54</span>   <span class="Type">Integer32</span> i <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
  <span class="LineNumber">55</span>   <span class="Keyword">While</span> i <span class="Operator">&lt;</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length <span class="Keyword">Loop</span>
  <span class="LineNumber">56</span>     <span class="Keyword">If</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>queens<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span>.column <span class="Operator">=</span> queen<span class="Operator">-</span><span class="Operator">&gt;</span>column <span class="Operator">and</span>
  <span class="LineNumber">57</span>        chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>queens<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span>.row    <span class="Operator">=</span> queen<span class="Operator">-</span><span class="Operator">&gt;</span>row    <span class="Keyword">Then</span>
  <span class="LineNumber">58</span>       <span class="Keyword">Return</span> <span class="Constant">1</span><span class="Keyword">;</span>
  <span class="LineNumber">59</span>     <span class="Keyword">EndIf</span>
  <span class="LineNumber">60</span>     i <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
  <span class="LineNumber">61</span>   <span class="Keyword">EndWhile</span>
  <span class="LineNumber">62</span>   <span class="Keyword">Return</span> <span class="Constant">0</span><span class="Keyword">;</span>
  <span class="LineNumber">63</span> <span class="Keyword">EndFunction</span>
  <span class="LineNumber">64</span> 
  <span class="LineNumber">65</span> <span class="Comment">// Now, let's forward-declare the functions we will write later.
  <span class="LineNumber">66</span> </span><span class="Comment">// Putting them here would make the code less legible.
  <span class="LineNumber">67</span> </span><span class="Keyword">Function</span> recursiveFunction<span class="Parenthesis">(</span><span class="Type">ChessBoardPointer</span> chessBoard<span class="Operator">,</span>
  <span class="LineNumber">68</span>                            <span class="Type">Integer32</span> n<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Integer32</span> <span class="Keyword">Is</span> <span class="Keyword">Declared</span><span class="Keyword">;</span>
  <span class="LineNumber">69</span> 
  <span class="LineNumber">70</span> <span class="Keyword">Function</span> convertIntegerToString<span class="Parenthesis">(</span><span class="Type">CharacterPointer</span> str<span class="Operator">,</span>
  <span class="LineNumber">71</span>                                 <span class="Type">Integer32</span> n<span class="Parenthesis">)</span>
  <span class="LineNumber">72</span>   <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Nothing</span> <span class="Keyword">Is</span> <span class="Keyword">Declared</span><span class="Keyword">;</span>
  <span class="LineNumber">73</span> 
  <span class="LineNumber">74</span> <span class="Keyword">Function</span> strcat<span class="Parenthesis">(</span><span class="Type">CharacterPointer</span> dest<span class="Operator">,</span>
  <span class="LineNumber">75</span>                 <span class="Type">CharacterPointer</span> src<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Nothing</span> <span class="Keyword">Is</span> <span class="Keyword">Declared</span><span class="Keyword">;</span>
  <span class="LineNumber">76</span> 
  <span class="LineNumber">77</span> <span class="Keyword">Function</span> strlen<span class="Parenthesis">(</span><span class="Type">CharacterPointer</span> str<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Integer32</span> <span class="Keyword">Is</span> <span class="Keyword">Declared</span><span class="Keyword">;</span>
  <span class="LineNumber">78</span> 
  <span class="LineNumber">79</span> <span class="Comment">// Let's write the function that JavaScript is supposed to call...
  <span class="LineNumber">80</span> </span><span class="Keyword">Function</span> nQueensPuzzle<span class="Parenthesis">(</span><span class="Type">Integer32</span> n<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Integer32</span> <span class="Keyword">Does</span>
  <span class="LineNumber">81</span>   clearScreen<span class="Parenthesis">(</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
  <span class="LineNumber">82</span>   <span class="Keyword">If</span> n <span class="Operator">&lt;</span> <span class="Constant">1</span> <span class="Operator">or</span> n <span class="Operator">&gt;</span> <span class="Constant">12</span> <span class="Keyword">Then</span>
  <span class="LineNumber">83</span>     printString<span class="Parenthesis">(</span><span class="String">"Please enter a number between 1 and 12!"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
  <span class="LineNumber">84</span>     <span class="Keyword">Return</span> <span class="Operator">-</span><span class="Constant">1</span><span class="Keyword">;</span>
  <span class="LineNumber">85</span>   <span class="Keyword">EndIf</span>
  <span class="LineNumber">86</span>   <span class="Type">InstantiateStructure</span> ChessBoard chessBoard<span class="Keyword">;</span>
  <span class="LineNumber">87</span>   <span class="Type">Character</span> stringToBePrinted<span class="Parenthesis">[</span><span class="Constant">64</span><span class="Parenthesis">]</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="Parenthesis">{</span><span class="Constant">0</span><span class="Parenthesis">}</span><span class="Keyword">;</span>
  <span class="LineNumber">88</span>   <span class="Type">CharacterPointer</span> stringToBePrinted <span class="Operator">:</span><span class="Operator">=</span> <span class="Operator">AddressOf</span><span class="Parenthesis">(</span>stringToBePrinted<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
  <span class="LineNumber">89</span>   strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> <span class="String">"Solving the n-queens puzzle for "</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
  <span class="LineNumber">90</span>   convertIntegerToString<span class="Parenthesis">(</span>stringToBePrinted <span class="Operator">+</span> strlen<span class="Parenthesis">(</span>stringToBePrinted<span class="Parenthesis">)</span><span class="Operator">,</span>
  <span class="LineNumber">91</span>                          n<span class="Parenthesis">)</span><span class="Keyword">;</span>
  <span class="LineNumber">92</span>   strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span><span class="String">":<b>\<i>n</i></b>"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
  <span class="LineNumber">93</span>   printString<span class="Parenthesis">(</span>stringToBePrinted<span class="Parenthesis">)</span><span class="Keyword">;</span>
  <span class="LineNumber">94</span>   <span class="Type">Integer32</span> result <span class="Operator">:</span><span class="Operator">=</span> recursiveFunction<span class="Parenthesis">(</span><span class="Operator">AddressOf</span><span class="Parenthesis">(</span>chessBoard<span class="Parenthesis">)</span><span class="Operator">,</span> n<span class="Parenthesis">)</span><span class="Keyword">;</span>
  <span class="LineNumber">95</span>   stringToBePrinted<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
  <span class="LineNumber">96</span>   strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> <span class="String">"Found "</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
  <span class="LineNumber">97</span>   convertIntegerToString<span class="Parenthesis">(</span>stringToBePrinted <span class="Operator">+</span> strlen<span class="Parenthesis">(</span>stringToBePrinted<span class="Parenthesis">)</span><span class="Operator">,</span>
  <span class="LineNumber">98</span>                          result<span class="Parenthesis">)</span><span class="Keyword">;</span>
  <span class="LineNumber">99</span>   strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> <span class="String">" solutions!"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">100</span>   printString<span class="Parenthesis">(</span>stringToBePrinted<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">101</span>   <span class="Keyword">Return</span> result<span class="Keyword">;</span>
 <span class="LineNumber">102</span> <span class="Keyword">EndFunction</span>
 <span class="LineNumber">103</span> 
 <span class="LineNumber">104</span> <span class="Comment">// I guess moving this code out of "recursiveFunction" makes the
 <span class="LineNumber">105</span> </span><span class="Comment">// code more legible.
 <span class="LineNumber">106</span> </span><span class="Keyword">Function</span> printAsASolution<span class="Parenthesis">(</span><span class="Type">ChessBoardPointer</span> chessBoard<span class="Parenthesis">)</span>
 <span class="LineNumber">107</span>   <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Nothing</span> <span class="Keyword">Does</span>
 <span class="LineNumber">108</span>     <span class="Type">Character</span> stringToBePrinted<span class="Parenthesis">[</span><span class="Constant">64</span><span class="Parenthesis">]</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="Parenthesis">{</span><span class="Constant">0</span><span class="Parenthesis">}</span><span class="Keyword">;</span>
 <span class="LineNumber">109</span>     <span class="Type">Character</span> stringToBeAdded<span class="Parenthesis">[</span><span class="Constant">8</span><span class="Parenthesis">]</span><span class="Keyword">;</span>
 <span class="LineNumber">110</span>     <span class="Type">Integer32</span> i <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">111</span>     <span class="Keyword">While</span> i <span class="Operator">&lt;</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length <span class="Keyword">Loop</span>
 <span class="LineNumber">112</span>       stringToBeAdded<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="String">'A'</span> <span class="Operator">+</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>queens<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span>.column<span class="Keyword">;</span>
 <span class="LineNumber">113</span>       convertIntegerToString<span class="Parenthesis">(</span><span class="Operator">AddressOf</span><span class="Parenthesis">(</span>stringToBeAdded<span class="Parenthesis">[</span><span class="Constant">1</span><span class="Parenthesis">]</span><span class="Parenthesis">)</span><span class="Operator">,</span>
 <span class="LineNumber">114</span>                              chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>queens<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span>.row <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">115</span>       strcat<span class="Parenthesis">(</span><span class="Operator">AddressOf</span><span class="Parenthesis">(</span>stringToBeAdded<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span><span class="Parenthesis">)</span><span class="Operator">,</span> <span class="String">" "</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">116</span>       strcat<span class="Parenthesis">(</span><span class="Operator">AddressOf</span><span class="Parenthesis">(</span>stringToBePrinted<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span><span class="Parenthesis">)</span><span class="Operator">,</span>
 <span class="LineNumber">117</span>              <span class="Operator">AddressOf</span><span class="Parenthesis">(</span>stringToBeAdded<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span><span class="Parenthesis">)</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">118</span>       i <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">119</span>     <span class="Keyword">EndWhile</span>
 <span class="LineNumber">120</span>     strcat<span class="Parenthesis">(</span><span class="Operator">AddressOf</span><span class="Parenthesis">(</span>stringToBePrinted<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span><span class="Parenthesis">)</span><span class="Operator">,</span> <span class="String">"<b>\<i>n</i></b>"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">121</span>     printString<span class="Parenthesis">(</span><span class="Operator">AddressOf</span><span class="Parenthesis">(</span>stringToBePrinted<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span><span class="Parenthesis">)</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">122</span>     <span class="Keyword">If</span> shouldWePrintChessBoards<span class="Parenthesis">(</span><span class="Parenthesis">)</span> <span class="Keyword">Then</span>
 <span class="LineNumber">123</span>         stringToBePrinted<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">124</span>         <span class="Type">CharacterPointer</span> stringToBePrinted <span class="Operator">:</span><span class="Operator">=</span> <span class="Operator">AddressOf</span><span class="Parenthesis">(</span>stringToBePrinted<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">125</span>         strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> <span class="String">"  +"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">126</span>         i <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">127</span>         <span class="Keyword">While</span> i <span class="Operator">&lt;</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length <span class="Keyword">Loop</span>
 <span class="LineNumber">128</span>           strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> <span class="String">"-+"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">129</span>           i <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">130</span>         <span class="Keyword">EndWhile</span>
 <span class="LineNumber">131</span>         strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> <span class="String">"<b>\<i>n</i></b>"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">132</span>         printString<span class="Parenthesis">(</span>stringToBePrinted<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">133</span>         i <span class="Operator">:</span><span class="Operator">=</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length<span class="Keyword">;</span>
 <span class="LineNumber">134</span>         <span class="Keyword">While</span> i <span class="Operator">&gt;</span> <span class="Constant">0</span> <span class="Keyword">Loop</span>
 <span class="LineNumber">135</span>           stringToBePrinted<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">136</span>           <span class="Comment">// Align the row numbers to the right.
 <span class="LineNumber">137</span> </span>          <span class="Keyword">If</span> i <span class="Operator">&lt;</span> <span class="Constant">10</span> <span class="Keyword">Then</span>
 <span class="LineNumber">138</span>             strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> <span class="String">" "</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">139</span>           <span class="Keyword">EndIf</span>
 <span class="LineNumber">140</span>           convertIntegerToString<span class="Parenthesis">(</span>stringToBePrinted <span class="Operator">+</span> strlen<span class="Parenthesis">(</span>stringToBePrinted<span class="Parenthesis">)</span><span class="Operator">,</span> i<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">141</span>           strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> <span class="String">"|"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">142</span>           <span class="Type">Integer32</span> j <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">143</span>           <span class="Keyword">While</span> j <span class="Operator">&lt;</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length <span class="Keyword">Loop</span>
 <span class="LineNumber">144</span>             <span class="Type">InstantiateStructure</span> Queen newQueen<span class="Keyword">;</span>
 <span class="LineNumber">145</span>             newQueen.column <span class="Operator">:</span><span class="Operator">=</span>     j<span class="Keyword">;</span>
 <span class="LineNumber">146</span>             newQueen.row    <span class="Operator">:</span><span class="Operator">=</span> i <span class="Operator">-</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">147</span>             strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span>
 <span class="LineNumber">148</span>                    chessBoardContainsThatQueen<span class="Parenthesis">(</span>chessBoard<span class="Operator">,</span> <span class="Operator">AddressOf</span><span class="Parenthesis">(</span>newQueen<span class="Parenthesis">)</span><span class="Parenthesis">)</span><span class="Operator">?</span>
 <span class="LineNumber">149</span>                    <span class="String">"Q|"</span><span class="Operator">:</span>
 <span class="LineNumber">150</span>                    <span class="Operator">mod</span><span class="Parenthesis">(</span>i <span class="Operator">+</span> j <span class="Operator">-</span> <span class="Constant">1</span><span class="Operator">,</span> <span class="Constant">2</span><span class="Parenthesis">)</span><span class="Operator">?</span>
 <span class="LineNumber">151</span>                    <span class="String">" |"</span><span class="Operator">:</span> <span class="Comment">// White field.
 <span class="LineNumber">152</span> </span>                   <span class="String">"*|"</span>  <span class="Comment">// Black field.
 <span class="LineNumber">153</span> </span>            <span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">154</span>             j <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">155</span>           <span class="Keyword">EndWhile</span>
 <span class="LineNumber">156</span>           strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> <span class="String">"<b>\<i>n</i></b>"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">157</span>           printString<span class="Parenthesis">(</span>stringToBePrinted<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">158</span>           stringToBePrinted<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">159</span>           strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> <span class="String">"  +"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">160</span>           j <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">161</span>           <span class="Keyword">While</span> j <span class="Operator">&lt;</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length <span class="Keyword">Loop</span>
 <span class="LineNumber">162</span>             strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> <span class="String">"-+"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">163</span>             j <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">164</span>           <span class="Keyword">EndWhile</span>
 <span class="LineNumber">165</span>           strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> <span class="String">"<b>\<i>n</i></b>"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">166</span>           printString<span class="Parenthesis">(</span>stringToBePrinted<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">167</span>           i <span class="Operator">-</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">168</span>         <span class="Keyword">EndWhile</span>
 <span class="LineNumber">169</span>         stringToBePrinted<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">170</span>         <span class="Type">CharacterPointer</span> stringToBeAdded <span class="Operator">:</span><span class="Operator">=</span> <span class="Operator">AddressOf</span><span class="Parenthesis">(</span>stringToBeAdded<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">171</span>         stringToBeAdded<span class="Parenthesis">[</span><span class="Constant">2</span><span class="Parenthesis">]</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">172</span>         stringToBeAdded<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="String">' '</span><span class="Keyword">;</span>
 <span class="LineNumber">173</span>         strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> <span class="String">"  "</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">174</span>         i <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">175</span>         <span class="Keyword">While</span> i <span class="Operator">&lt;</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length <span class="Keyword">Loop</span>
 <span class="LineNumber">176</span>           stringToBeAdded<span class="Parenthesis">[</span><span class="Constant">1</span><span class="Parenthesis">]</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="String">'A'</span> <span class="Operator">+</span> i<span class="Keyword">;</span>
 <span class="LineNumber">177</span>           strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> stringToBeAdded<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">178</span>           i <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">179</span>         <span class="Keyword">EndWhile</span>
 <span class="LineNumber">180</span>         strcat<span class="Parenthesis">(</span>stringToBePrinted<span class="Operator">,</span> <span class="String">"<b>\<i>n</i></b>"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">181</span>         printString<span class="Parenthesis">(</span>stringToBePrinted<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">182</span>     <span class="Keyword">EndIf</span>
 <span class="LineNumber">183</span> <span class="Keyword">EndFunction</span>
 <span class="LineNumber">184</span> 
 <span class="LineNumber">185</span> <span class="Comment">// Now, let's implement the brute-force algorithm.
 <span class="LineNumber">186</span> </span><span class="Keyword">Function</span> recursiveFunction<span class="Parenthesis">(</span><span class="Type">ChessBoardPointer</span> chessBoard<span class="Operator">,</span>
 <span class="LineNumber">187</span>                            <span class="Type">Integer32</span> n<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Integer32</span> <span class="Keyword">Does</span>
 <span class="LineNumber">188</span>   <span class="Comment">// First, do some sanity checks useful for debugging...
 <span class="LineNumber">189</span> </span>  <span class="Keyword">If</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length <span class="Operator">&gt;</span> n <span class="Keyword">Then</span>
 <span class="LineNumber">190</span>     printString<span class="Parenthesis">(</span><span class="String">"Bug: Chessboard length too large!"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">191</span>     <span class="Keyword">Return</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">192</span>   <span class="Keyword">EndIf</span>
 <span class="LineNumber">193</span>   <span class="Type">Integer32</span> i <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Operator">,</span> j <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">194</span>   <span class="Keyword">While</span> i <span class="Operator">&lt;</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length <span class="Keyword">Loop</span>
 <span class="LineNumber">195</span>     <span class="Keyword">If</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>queens<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span>.column <span class="Operator">&lt;</span> <span class="Constant">0</span> <span class="Operator">or</span>
 <span class="LineNumber">196</span>        chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>queens<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span>.row    <span class="Operator">&lt;</span> <span class="Constant">0</span> <span class="Operator">or</span>
 <span class="LineNumber">197</span>        chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>queens<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span>.column <span class="Operator">&gt;</span> n <span class="Operator">or</span>
 <span class="LineNumber">198</span>        chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>queens<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span>.row    <span class="Operator">&gt;</span> n <span class="Keyword">Then</span>
 <span class="LineNumber">199</span>       printString<span class="Parenthesis">(</span><span class="String">"Bug: Corrupt chessboard!"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">200</span>       <span class="Keyword">Return</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">201</span>     <span class="Keyword">EndIf</span>
 <span class="LineNumber">202</span>     i <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">203</span>   <span class="Keyword">EndWhile</span>
 <span class="LineNumber">204</span>   <span class="Comment">// Check if there is a contradiction (queens attacking
 <span class="LineNumber">205</span> </span>  <span class="Comment">// each other) in what we have thus far...
 <span class="LineNumber">206</span> </span>  i <span class="Operator">:</span><span class="Operator">=</span> j <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">207</span>   <span class="Keyword">While</span> i <span class="Operator">&lt;</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length <span class="Keyword">Loop</span>
 <span class="LineNumber">208</span>     j <span class="Operator">:</span><span class="Operator">=</span> i <span class="Operator">+</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">209</span>     <span class="Keyword">While</span> j <span class="Operator">&lt;</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length <span class="Keyword">Loop</span>
 <span class="LineNumber">210</span>       <span class="Keyword">If</span> <span class="Operator">not</span><span class="Parenthesis">(</span>i <span class="Operator">=</span> j<span class="Parenthesis">)</span> <span class="Operator">and</span> areQueensAttackingEachOther<span class="Parenthesis">(</span>
 <span class="LineNumber">211</span>                           <span class="Operator">AddressOf</span><span class="Parenthesis">(</span>chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>queens<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span><span class="Parenthesis">)</span><span class="Operator">,</span>
 <span class="LineNumber">212</span>                           <span class="Operator">AddressOf</span><span class="Parenthesis">(</span>chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>queens<span class="Parenthesis">[</span>j<span class="Parenthesis">]</span><span class="Parenthesis">)</span>
 <span class="LineNumber">213</span>                         <span class="Parenthesis">)</span> <span class="Keyword">Then</span>
 <span class="LineNumber">214</span>         <span class="Keyword">Return</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">215</span>       <span class="Keyword">EndIf</span>
 <span class="LineNumber">216</span>       j <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">217</span>     <span class="Keyword">EndWhile</span>
 <span class="LineNumber">218</span>     i <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">219</span>   <span class="Keyword">EndWhile</span>
 <span class="LineNumber">220</span>   <span class="Comment">// Check if this is a solution...
 <span class="LineNumber">221</span> </span>  <span class="Keyword">If</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length <span class="Operator">=</span> n <span class="Keyword">Then</span>
 <span class="LineNumber">222</span>     printAsASolution<span class="Parenthesis">(</span>chessBoard<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">223</span>     <span class="Keyword">Return</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">224</span>   <span class="Keyword">EndIf</span>
 <span class="LineNumber">225</span>   <span class="Comment">// If this is not a complete solution, but there are no contradictions
 <span class="LineNumber">226</span> </span>  <span class="Comment">// in it, branch the recursion into searching for complete solutions
 <span class="LineNumber">227</span> </span>  <span class="Comment">// based on this one.
 <span class="LineNumber">228</span> </span>  <span class="Type">Integer32</span> result <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">229</span>   i <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">230</span>   <span class="Keyword">While</span> i<span class="Operator">&lt;</span>n <span class="Keyword">Loop</span>
 <span class="LineNumber">231</span>     <span class="Type">InstantiateStructure</span> ChessBoard newChessBoard <span class="Operator">:</span><span class="Operator">=</span> <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>chessBoard<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">232</span>     newChessBoard.length <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">233</span>     newChessBoard.queens<span class="Parenthesis">[</span>chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length<span class="Parenthesis">]</span>.column <span class="Operator">:</span><span class="Operator">=</span> chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length<span class="Keyword">;</span>
 <span class="LineNumber">234</span>     newChessBoard.queens<span class="Parenthesis">[</span>chessBoard<span class="Operator">-</span><span class="Operator">&gt;</span>length<span class="Parenthesis">]</span>.row <span class="Operator">:</span><span class="Operator">=</span> i<span class="Keyword">;</span>
 <span class="LineNumber">235</span>     result <span class="Operator">+</span><span class="Operator">=</span> recursiveFunction<span class="Parenthesis">(</span><span class="Operator">AddressOf</span><span class="Parenthesis">(</span>newChessBoard<span class="Parenthesis">)</span><span class="Operator">,</span> n<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">236</span>     i <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">237</span>   <span class="Keyword">EndWhile</span>
 <span class="LineNumber">238</span>   <span class="Keyword">Return</span> result<span class="Keyword">;</span>
 <span class="LineNumber">239</span> <span class="Keyword">EndFunction</span>
 <span class="LineNumber">240</span> 
 <span class="LineNumber">241</span> <span class="Comment">// Now go the helper functions related to string manipulation,
 <span class="LineNumber">242</span> </span><span class="Comment">// copied from the Dragon Curve program. They are named the same
 <span class="LineNumber">243</span> </span><span class="Comment">// as the corresponding functions in the standard C library.
 <span class="LineNumber">244</span> </span><span class="Keyword">Function</span> strlen<span class="Parenthesis">(</span><span class="Type">CharacterPointer</span> str<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Integer32</span> <span class="Keyword">Does</span>
 <span class="LineNumber">245</span>      <span class="Type">Integer32</span> length <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">246</span>      <span class="Keyword">While</span> <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>str <span class="Operator">+</span> length<span class="Parenthesis">)</span> <span class="Keyword">Loop</span>
 <span class="LineNumber">247</span>          length <span class="Operator">:</span><span class="Operator">=</span> length <span class="Operator">+</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">248</span>      <span class="Keyword">EndWhile</span>
 <span class="LineNumber">249</span>      <span class="Keyword">Return</span> length<span class="Keyword">;</span>
 <span class="LineNumber">250</span> <span class="Keyword">EndFunction</span>
 <span class="LineNumber">251</span> 
 <span class="LineNumber">252</span> <span class="Keyword">Function</span> strcpy<span class="Parenthesis">(</span><span class="Type">CharacterPointer</span> dest<span class="Operator">,</span>
 <span class="LineNumber">253</span>                 <span class="Type">CharacterPointer</span> src<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Nothing</span> <span class="Keyword">Does</span>
 <span class="LineNumber">254</span>     <span class="Keyword">While</span> <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>src<span class="Parenthesis">)</span> <span class="Keyword">Loop</span>
 <span class="LineNumber">255</span>         <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>dest<span class="Parenthesis">)</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>src<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">256</span>         dest          <span class="Operator">:</span><span class="Operator">=</span>     dest <span class="Operator">+</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">257</span>         src           <span class="Operator">:</span><span class="Operator">=</span>      src <span class="Operator">+</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">258</span>      <span class="Keyword">EndWhile</span>
 <span class="LineNumber">259</span>     <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>dest<span class="Parenthesis">)</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">260</span> <span class="Keyword">EndFunction</span>
 <span class="LineNumber">261</span> 
 <span class="LineNumber">262</span> <span class="Keyword">Function</span> strcat<span class="Parenthesis">(</span><span class="Type">CharacterPointer</span> dest<span class="Operator">,</span>
 <span class="LineNumber">263</span>                 <span class="Type">CharacterPointer</span> src<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Nothing</span> <span class="Keyword">Does</span>
 <span class="LineNumber">264</span>     strcpy<span class="Parenthesis">(</span>dest <span class="Operator">+</span> strlen<span class="Parenthesis">(</span>dest<span class="Parenthesis">)</span><span class="Operator">,</span> src<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">265</span> <span class="Keyword">EndFunction</span>
 <span class="LineNumber">266</span> 
 <span class="LineNumber">267</span> <span class="Keyword">Function</span> reverseString<span class="Parenthesis">(</span><span class="Type">CharacterPointer</span> string<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Nothing</span> <span class="Keyword">Does</span>
 <span class="LineNumber">268</span>     <span class="Type">CharacterPointer</span> pointerToLastCharacter <span class="Operator">:</span><span class="Operator">=</span> string <span class="Operator">+</span> strlen<span class="Parenthesis">(</span>string<span class="Parenthesis">)</span> <span class="Operator">-</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">269</span>     <span class="Keyword">While</span> pointerToLastCharacter <span class="Operator">-</span> string <span class="Operator">&gt;</span> <span class="Constant">0</span> <span class="Keyword">Loop</span>
 <span class="LineNumber">270</span>         <span class="Type">Character</span> tmp                   <span class="Operator">:</span><span class="Operator">=</span> <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>string<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">271</span>         <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>string<span class="Parenthesis">)</span>                 <span class="Operator">:</span><span class="Operator">=</span> <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>pointerToLastCharacter<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">272</span>         <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>pointerToLastCharacter<span class="Parenthesis">)</span> <span class="Operator">:</span><span class="Operator">=</span> tmp<span class="Keyword">;</span>
 <span class="LineNumber">273</span>         string                          <span class="Operator">:</span><span class="Operator">=</span> string <span class="Operator">+</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">274</span>         pointerToLastCharacter          <span class="Operator">:</span><span class="Operator">=</span> pointerToLastCharacter <span class="Operator">-</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">275</span>     <span class="Keyword">EndWhile</span>
 <span class="LineNumber">276</span> <span class="Keyword">EndFunction</span>
 <span class="LineNumber">277</span> 
 <span class="LineNumber">278</span> <span class="Keyword">Function</span> convertIntegerToString<span class="Parenthesis">(</span><span class="Type">CharacterPointer</span> string<span class="Operator">,</span>
 <span class="LineNumber">279</span>                                 <span class="Type">Integer32</span> number<span class="Parenthesis">)</span>
 <span class="LineNumber">280</span>     <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Nothing</span> <span class="Keyword">Does</span>
 <span class="LineNumber">281</span>     <span class="Type">Integer32</span> isNumberNegative <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">282</span>     <span class="Keyword">If</span> number <span class="Operator">&lt;</span> <span class="Constant">0</span> <span class="Keyword">Then</span>
 <span class="LineNumber">283</span>         number           <span class="Operator">:</span><span class="Operator">=</span> <span class="Operator">-</span>number<span class="Keyword">;</span>
 <span class="LineNumber">284</span>         isNumberNegative <span class="Operator">:</span><span class="Operator">=</span>       <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">285</span>     <span class="Keyword">EndIf</span>
 <span class="LineNumber">286</span>     <span class="Type">Integer32</span> i <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">287</span>     <span class="Keyword">While</span> number <span class="Operator">&gt;</span> <span class="Constant">9</span> <span class="Keyword">Loop</span>
 <span class="LineNumber">288</span>         <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>string <span class="Operator">+</span> i<span class="Parenthesis">)</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="String">'0'</span> <span class="Operator">+</span> <span class="Operator">mod</span><span class="Parenthesis">(</span>number<span class="Operator">,</span> <span class="Constant">10</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">289</span>         number              <span class="Operator">:</span><span class="Operator">=</span>           number <span class="Operator">/</span> <span class="Constant">10</span><span class="Keyword">;</span>
 <span class="LineNumber">290</span>         i                   <span class="Operator">:</span><span class="Operator">=</span>                 i <span class="Operator">+</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">291</span>     <span class="Keyword">EndWhile</span>
 <span class="LineNumber">292</span>     <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>string <span class="Operator">+</span> i<span class="Parenthesis">)</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="String">'0'</span> <span class="Operator">+</span> number<span class="Keyword">;</span>
 <span class="LineNumber">293</span>     i                   <span class="Operator">:</span><span class="Operator">=</span>        i <span class="Operator">+</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">294</span>     <span class="Keyword">If</span> isNumberNegative <span class="Keyword">Then</span>
 <span class="LineNumber">295</span>         <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>string <span class="Operator">+</span> i<span class="Parenthesis">)</span> <span class="Operator">:</span><span class="Operator">=</span>   <span class="String">'-'</span><span class="Keyword">;</span>
 <span class="LineNumber">296</span>         i                   <span class="Operator">:</span><span class="Operator">=</span> i <span class="Operator">+</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">297</span>     <span class="Keyword">EndIf</span>
 <span class="LineNumber">298</span>     <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>string <span class="Operator">+</span> i<span class="Parenthesis">)</span> <span class="Operator">:</span><span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">299</span>     reverseString<span class="Parenthesis">(</span>string<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">300</span> <span class="Keyword">EndFunction</span>
 <span class="LineNumber">301</span> 
</pre>
</body>
</html>
