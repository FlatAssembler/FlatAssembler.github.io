
<!doctype html>
<html>
<head>
    <title>analogClock.aec - Syntax Highlighted in NodeJS</title>
    <style type="text/css">
    pre {
       font-size: 13px;
    }
    .LineNumber {
       color: #772200;
       font-weight: normal;
    }
    .Type {
       color: #775500;
       font-weight: bold;
    }
    .Keyword {
        color: #770000;
        font-weight: bold;
    }
    .Comment {
        color: #004444;
        font-weight: bold;
    }
    .Parenthesis {
        color: #333322;
        font-weight: bold;
    }
    .Operator {
        color: #770077;
        font-weight: bold;
    }
    .Constant {
        color: #006600;
        font-weight: bold;
    }
    .String {
        color: #003377;
    }
    </style>
</head>
<body>
<pre>   <span class="LineNumber">1</span> <span class="Comment">/*
   <span class="LineNumber">2</span>  * This is my attempt to port the Analog Clock in AEC, previously available
   <span class="LineNumber">3</span>  * for Linux and DOS, to WebAssembly.
   <span class="LineNumber">4</span>  */</span>
   <span class="LineNumber">5</span> 
   <span class="LineNumber">6</span> <span class="Comment">// Let's import some functions useful for debugging from JavaScript...
   <span class="LineNumber">7</span> </span><span class="Keyword">Function</span> logString<span class="Parenthesis">(</span><span class="Type">CharacterPointer</span> str<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Nothing</span> <span class="Keyword">Is</span> <span class="Keyword">External</span><span class="Keyword">;</span>
   <span class="LineNumber">8</span> <span class="Keyword">Function</span> logInteger<span class="Parenthesis">(</span><span class="Type">Integer32</span> int<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Nothing</span> <span class="Keyword">Is</span> <span class="Keyword">External</span><span class="Keyword">;</span>
   <span class="LineNumber">9</span> 
  <span class="LineNumber">10</span> <span class="Comment">// Now let's define a character array that will be used both by JS and AEC.
  <span class="LineNumber">11</span> </span><span class="Type">Character</span> output<span class="Parenthesis">[</span><span class="Constant">23</span> <span class="Operator">*</span> <span class="Constant">80</span><span class="Parenthesis">]</span><span class="Keyword">;</span>
  <span class="LineNumber">12</span> <span class="Type">CharacterPointer</span> colors<span class="Parenthesis">[</span><span class="Constant">23</span> <span class="Operator">*</span> <span class="Constant">80</span><span class="Parenthesis">]</span><span class="Keyword">;</span> <span class="Comment">// Will contain pointers to the CSS names
  <span class="LineNumber">13</span> </span>                                  <span class="Comment">// of colors of the characters in the
  <span class="LineNumber">14</span> </span>                                  <span class="Comment">//"output".
  <span class="LineNumber">15</span> </span>
  <span class="LineNumber">16</span> <span class="Keyword">Function</span> getAddressOfOutput<span class="Parenthesis">(</span><span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">CharacterPointer</span>
  <span class="LineNumber">17</span>     <span class="Keyword">Does</span> <span class="Parenthesis">{</span> <span class="Comment">// The curly brace here is optional and is just as a hint to advanced
  <span class="LineNumber">18</span> </span>           <span class="Comment">// text editors and IDEs (made mostly for C-like languages) of how to
  <span class="LineNumber">19</span> </span>           <span class="Comment">// format the code, it's ignored by the AEC parser.
  <span class="LineNumber">20</span> </span>  <span class="Keyword">Return</span> <span class="Operator">AddressOf</span><span class="Parenthesis">(</span>output<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span><span class="Parenthesis">)</span><span class="Keyword">;</span> <span class="Comment">// When I didn't implement the "extern"
  <span class="LineNumber">21</span> </span>                               <span class="Comment">// keyword into my AEC compiler...
  <span class="LineNumber">22</span> </span><span class="Parenthesis">}</span>
  <span class="LineNumber">23</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
  <span class="LineNumber">24</span> 
  <span class="LineNumber">25</span> <span class="Keyword">Function</span> getAddressOfColors<span class="Parenthesis">(</span><span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">CharacterPointerPointer</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
  <span class="LineNumber">26</span>   <span class="Keyword">Return</span> <span class="Operator">AddressOf</span><span class="Parenthesis">(</span>colors<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
  <span class="LineNumber">27</span> <span class="Parenthesis">}</span>
  <span class="LineNumber">28</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
  <span class="LineNumber">29</span> 
  <span class="LineNumber">30</span> <span class="Comment">// Now, let's implement some mathematical functions. We can't use JavaScript
  <span class="LineNumber">31</span> </span><span class="Comment">//"Math.sin" and similar because they are methods of the global "Math"
  <span class="LineNumber">32</span> </span><span class="Comment">// object, and there is, as far as I know, no way to import JavaScript
  <span class="LineNumber">33</span> </span><span class="Comment">// objects into WebAssembly (or some language that compiles into it).
  <span class="LineNumber">34</span> </span><span class="Comment">// I wonder whether this is what operating system development feels like.
  <span class="LineNumber">35</span> </span><span class="Comment">// In the OS development, the only code that's running on a virtual machine
  <span class="LineNumber">36</span> </span><span class="Comment">// is your own, and you can only use a debugger running outside of that
  <span class="LineNumber">37</span> </span><span class="Comment">// virtual machine. Here, quite some code runs on JavaScript Virtual
  <span class="LineNumber">38</span> </span><span class="Comment">// Machine, but the only code I can call is the code I've written myself in
  <span class="LineNumber">39</span> </span><span class="Comment">// my own programming language and some debugging functions (logString and
  <span class="LineNumber">40</span> </span><span class="Comment">// logInteger).
  <span class="LineNumber">41</span> </span><span class="Type">Decimal32</span> PRECISION <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">512</span><span class="Keyword">;</span> <span class="Comment">// So that we can balance between speed and
  <span class="LineNumber">42</span> </span>                             <span class="Comment">// precision.
  <span class="LineNumber">43</span> </span><span class="Keyword">Function</span> ln<span class="Parenthesis">(</span><span class="Type">Decimal32</span> x<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Decimal32</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
  <span class="LineNumber">44</span>   <span class="Comment">// Natural logarithm is the integral of 1/x from 1 to x, highschool math.
  <span class="LineNumber">45</span> </span>  <span class="Type">Decimal32</span> sum <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">0</span><span class="Operator">,</span> epsilon <span class="Operator">:</span> <span class="Operator">=</span> <span class="Parenthesis">(</span>x <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">/</span> <span class="Parenthesis">(</span><span class="Constant">5</span> <span class="Operator">*</span> PRECISION<span class="Parenthesis">)</span><span class="Operator">,</span> i <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
  <span class="LineNumber">46</span>   <span class="Keyword">While</span><span class="Parenthesis">(</span>epsilon <span class="Operator">&gt;</span> <span class="Constant">0</span> <span class="Operator">and</span> i <span class="Operator">&lt;</span> x<span class="Parenthesis">)</span> <span class="Operator">or</span> <span class="Parenthesis">(</span>epsilon <span class="Operator">&lt;</span> <span class="Constant">0</span> <span class="Operator">and</span> i <span class="Operator">&gt;</span> x<span class="Parenthesis">)</span> <span class="Keyword">Loop</span> <span class="Parenthesis">{</span>
  <span class="LineNumber">47</span>     sum <span class="Operator">+</span><span class="Operator">=</span> epsilon <span class="Operator">/</span> i<span class="Keyword">;</span>
  <span class="LineNumber">48</span>     i <span class="Operator">+</span><span class="Operator">=</span> epsilon<span class="Keyword">;</span>
  <span class="LineNumber">49</span>   <span class="Parenthesis">}</span>
  <span class="LineNumber">50</span>   <span class="Keyword">EndWhile</span><span class="Keyword">;</span> <span class="Comment">// The semicolon after "EndWhile" and "EndIf" and "EndFunction" is
  <span class="LineNumber">51</span> </span>            <span class="Comment">// optional, but it provides a hint to the IDEs (made for C-like
  <span class="LineNumber">52</span> </span>            <span class="Comment">// languages).
  <span class="LineNumber">53</span> </span>  <span class="Keyword">Return</span> sum<span class="Keyword">;</span>
  <span class="LineNumber">54</span> <span class="Parenthesis">}</span>
  <span class="LineNumber">55</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
  <span class="LineNumber">56</span> 
  <span class="LineNumber">57</span> <span class="Keyword">Function</span> exp<span class="Parenthesis">(</span><span class="Type">Decimal32</span> x<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Decimal32</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
  <span class="LineNumber">58</span>   <span class="Comment">// Euler's Algorithm from Mathematics 2...
  <span class="LineNumber">59</span> </span>  <span class="Type">Decimal32</span> i <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">0</span><span class="Operator">,</span> y <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">1</span><span class="Operator">,</span> epsilon <span class="Operator">:</span> <span class="Operator">=</span> x <span class="Operator">/</span> PRECISION<span class="Keyword">;</span>
  <span class="LineNumber">60</span>   <span class="Keyword">While</span><span class="Parenthesis">(</span>epsilon <span class="Operator">&gt;</span> <span class="Constant">0</span> <span class="Operator">and</span> i <span class="Operator">&lt;</span> x<span class="Parenthesis">)</span> <span class="Operator">or</span> <span class="Parenthesis">(</span>epsilon <span class="Operator">&lt;</span> <span class="Constant">0</span> <span class="Operator">and</span> i <span class="Operator">&gt;</span> x<span class="Parenthesis">)</span> <span class="Keyword">Loop</span> <span class="Parenthesis">{</span>
  <span class="LineNumber">61</span>     y <span class="Operator">+</span><span class="Operator">=</span> epsilon <span class="Operator">*</span> y<span class="Keyword">;</span>
  <span class="LineNumber">62</span>     i <span class="Operator">+</span><span class="Operator">=</span> epsilon<span class="Keyword">;</span>
  <span class="LineNumber">63</span>   <span class="Parenthesis">}</span>
  <span class="LineNumber">64</span>   <span class="Keyword">EndWhile</span><span class="Keyword">;</span>
  <span class="LineNumber">65</span>   <span class="Keyword">Return</span> y<span class="Keyword">;</span>
  <span class="LineNumber">66</span> <span class="Parenthesis">}</span>
  <span class="LineNumber">67</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
  <span class="LineNumber">68</span> 
  <span class="LineNumber">69</span> <span class="Keyword">Function</span> sqrt<span class="Parenthesis">(</span><span class="Type">Decimal32</span> x<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Decimal32</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
  <span class="LineNumber">70</span>   <span class="Comment">// Binary Search Algorithm...
  <span class="LineNumber">71</span> </span>  <span class="Type">Decimal32</span> max
  <span class="LineNumber">72</span>       <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">80</span> <span class="Operator">*</span> <span class="Constant">80</span> <span class="Operator">+</span> <span class="Constant">24</span> <span class="Operator">*</span> <span class="Constant">24</span><span class="Operator">,</span> <span class="Comment">// This function will be used for calculating the
  <span class="LineNumber">73</span> </span>                             <span class="Comment">// Euclidean distance between cells in the display
  <span class="LineNumber">74</span> </span>                             <span class="Comment">// grid, and there will be 80x24 cells.
  <span class="LineNumber">75</span> </span>      min <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">0</span><span class="Operator">,</span> i <span class="Operator">:</span> <span class="Operator">=</span> <span class="Parenthesis">(</span>min <span class="Operator">+</span> max<span class="Parenthesis">)</span> <span class="Operator">/</span> <span class="Constant">2</span><span class="Keyword">;</span>
  <span class="LineNumber">76</span>   <span class="Keyword">While</span><span class="Parenthesis">(</span>max <span class="Operator">-</span> min<span class="Parenthesis">)</span> <span class="Operator">&gt;</span> <span class="Constant">1</span> <span class="Operator">/</span> PRECISION <span class="Keyword">Loop</span> <span class="Parenthesis">{</span>
  <span class="LineNumber">77</span>     <span class="Keyword">If</span> i <span class="Operator">*</span>i <span class="Operator">&gt;</span> x <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
  <span class="LineNumber">78</span>     max<span class="Operator">:</span>
  <span class="LineNumber">79</span>       <span class="Operator">=</span> i<span class="Keyword">;</span>
  <span class="LineNumber">80</span>     <span class="Parenthesis">}</span>
  <span class="LineNumber">81</span>     <span class="Keyword">Else</span> <span class="Parenthesis">{</span>
  <span class="LineNumber">82</span>     min<span class="Operator">:</span>
  <span class="LineNumber">83</span>       <span class="Operator">=</span> i<span class="Keyword">;</span>
  <span class="LineNumber">84</span>     <span class="Parenthesis">}</span>
  <span class="LineNumber">85</span>     <span class="Keyword">EndIf</span><span class="Keyword">;</span>
  <span class="LineNumber">86</span>   i<span class="Operator">:</span>
  <span class="LineNumber">87</span>     <span class="Operator">=</span> <span class="Parenthesis">(</span>max <span class="Operator">+</span> min<span class="Parenthesis">)</span> <span class="Operator">/</span> <span class="Constant">2</span><span class="Keyword">;</span>
  <span class="LineNumber">88</span>   <span class="Parenthesis">}</span>
  <span class="LineNumber">89</span>   <span class="Keyword">EndWhile</span><span class="Keyword">;</span>
  <span class="LineNumber">90</span>   <span class="Keyword">Return</span> i<span class="Keyword">;</span>
  <span class="LineNumber">91</span> <span class="Parenthesis">}</span>
  <span class="LineNumber">92</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
  <span class="LineNumber">93</span> 
  <span class="LineNumber">94</span> <span class="Keyword">Function</span> fmod<span class="Parenthesis">(</span><span class="Type">Decimal32</span> a<span class="Operator">,</span> <span class="Type">Decimal32</span> b<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Decimal32</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
  <span class="LineNumber">95</span>   <span class="Keyword">Return</span> a <span class="Operator">-</span> b <span class="Operator">*</span><span class="Type">Integer32</span><span class="Parenthesis">(</span>a <span class="Operator">/</span> b<span class="Parenthesis">)</span><span class="Keyword">;</span>
  <span class="LineNumber">96</span> <span class="Parenthesis">}</span>
  <span class="LineNumber">97</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
  <span class="LineNumber">98</span> 
  <span class="LineNumber">99</span> <span class="Comment">// Now, let's implement trigonometric and cyclometric functions.
 <span class="LineNumber">100</span> </span><span class="Type">Decimal32</span> oneRadianInDegrees
 <span class="LineNumber">101</span>     <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">180</span> <span class="Operator">/</span> pi<span class="Keyword">;</span> <span class="Comment">//"180/pi" is a compile-time decimal
 <span class="LineNumber">102</span> </span>                  <span class="Comment">// constant (since we are assigning an
 <span class="LineNumber">103</span> </span>                  <span class="Comment">// initial value to a global variable),
 <span class="LineNumber">104</span> </span>                  <span class="Comment">// and, as such, we can use "pi" to
 <span class="LineNumber">105</span> </span>                  <span class="Comment">// refer to M_PI from the C library,
 <span class="LineNumber">106</span> </span>                  <span class="Comment">// it's available to the compiler.
 <span class="LineNumber">107</span> </span>
 <span class="LineNumber">108</span> <span class="Keyword">Function</span> arctan<span class="Parenthesis">(</span><span class="Type">Decimal32</span> x<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Decimal32</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">109</span>   <span class="Comment">// Arcus tangens is equal to the integral of 1/(1+x^2), highschool math.
 <span class="LineNumber">110</span> </span>  <span class="Type">Decimal32</span> sum <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">0</span><span class="Operator">,</span> epsilon <span class="Operator">:</span> <span class="Operator">=</span> x <span class="Operator">/</span> PRECISION<span class="Operator">,</span> i <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">111</span>   <span class="Keyword">While</span> i <span class="Operator">&lt;</span> x <span class="Keyword">Loop</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">112</span>     sum <span class="Operator">+</span><span class="Operator">=</span> epsilon <span class="Operator">/</span> <span class="Parenthesis">(</span><span class="Constant">1</span> <span class="Operator">+</span> i <span class="Operator">*</span> i<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">113</span>     i <span class="Operator">+</span><span class="Operator">=</span> epsilon<span class="Keyword">;</span>
 <span class="LineNumber">114</span>   <span class="Parenthesis">}</span>
 <span class="LineNumber">115</span>   <span class="Keyword">EndWhile</span><span class="Keyword">;</span>
 <span class="LineNumber">116</span>   <span class="Keyword">Return</span> sum <span class="Operator">*</span>oneRadianInDegrees<span class="Keyword">;</span>
 <span class="LineNumber">117</span> <span class="Parenthesis">}</span>
 <span class="LineNumber">118</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
 <span class="LineNumber">119</span> 
 <span class="LineNumber">120</span> <span class="Keyword">Function</span> sin<span class="Parenthesis">(</span><span class="Type">Decimal32</span> degrees<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Decimal32</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">121</span>   <span class="Keyword">If</span> degrees <span class="Operator">&lt;</span> <span class="Constant">0</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span> <span class="Keyword">Return</span> <span class="Operator">-</span> sin<span class="Parenthesis">(</span><span class="Operator">-</span>degrees<span class="Parenthesis">)</span><span class="Keyword">;</span> <span class="Parenthesis">}</span>
 <span class="LineNumber">122</span>   <span class="Keyword">EndIf</span><span class="Keyword">;</span>
 <span class="LineNumber">123</span>   <span class="Keyword">If</span> degrees <span class="Operator">&gt;</span> <span class="Constant">90</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">124</span>     <span class="Type">Decimal32</span> sinOfDegreesMinus90 <span class="Operator">:</span> <span class="Operator">=</span> sin<span class="Parenthesis">(</span>degrees <span class="Operator">-</span> <span class="Constant">90</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">125</span>     <span class="Keyword">If</span> fmod<span class="Parenthesis">(</span>degrees<span class="Operator">,</span> <span class="Constant">360</span><span class="Parenthesis">)</span> <span class="Operator">&lt;</span> <span class="Constant">180</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">126</span>       <span class="Keyword">Return</span> sqrt<span class="Parenthesis">(</span><span class="Constant">1</span> <span class="Operator">-</span> sinOfDegreesMinus90 <span class="Operator">*</span> sinOfDegreesMinus90<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">127</span>     <span class="Parenthesis">}</span>
 <span class="LineNumber">128</span>     <span class="Keyword">Else</span> <span class="Parenthesis">{</span> <span class="Keyword">Return</span> <span class="Operator">-</span> sqrt<span class="Parenthesis">(</span><span class="Constant">1</span> <span class="Operator">-</span> sinOfDegreesMinus90 <span class="Operator">*</span> sinOfDegreesMinus90<span class="Parenthesis">)</span><span class="Keyword">;</span> <span class="Parenthesis">}</span>
 <span class="LineNumber">129</span>     <span class="Keyword">EndIf</span><span class="Keyword">;</span>
 <span class="LineNumber">130</span>   <span class="Parenthesis">}</span>
 <span class="LineNumber">131</span>   <span class="Keyword">EndIf</span><span class="Keyword">;</span>
 <span class="LineNumber">132</span>   <span class="Comment">/*
 <span class="LineNumber">133</span>    * Sine and cosine are defined in Mathematics 2 using the system of
 <span class="LineNumber">134</span>    * equations (Cauchy system):
 <span class="LineNumber">135</span>    *
 <span class="LineNumber">136</span>    * sin(0)=0
 <span class="LineNumber">137</span>    * cos(0)=1
 <span class="LineNumber">138</span>    * sin'(x)=cos(x)
 <span class="LineNumber">139</span>    * cos'(x)=-sin(x)
 <span class="LineNumber">140</span>    * ---------------
 <span class="LineNumber">141</span>    *
 <span class="LineNumber">142</span>    * Let's translate that as literally as possible to the programming
 <span class="LineNumber">143</span>    * language.
 <span class="LineNumber">144</span>    */</span>
 <span class="LineNumber">145</span>   <span class="Type">Decimal32</span> radians <span class="Operator">:</span> <span class="Operator">=</span> degrees <span class="Operator">/</span> oneRadianInDegrees<span class="Operator">,</span> tmpsin <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">0</span><span class="Operator">,</span>
 <span class="LineNumber">146</span>                     tmpcos <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">1</span><span class="Operator">,</span> epsilon <span class="Operator">:</span> <span class="Operator">=</span> radians <span class="Operator">/</span> PRECISION<span class="Operator">,</span> i <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">147</span>   <span class="Keyword">While</span><span class="Parenthesis">(</span>epsilon <span class="Operator">&gt;</span> <span class="Constant">0</span> <span class="Operator">and</span> i <span class="Operator">&lt;</span> radians<span class="Parenthesis">)</span> <span class="Operator">or</span> <span class="Parenthesis">(</span>epsilon <span class="Operator">&lt;</span> <span class="Constant">0</span> <span class="Operator">and</span> i <span class="Operator">&gt;</span> radians<span class="Parenthesis">)</span> <span class="Keyword">Loop</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">148</span>     tmpsin <span class="Operator">+</span><span class="Operator">=</span> epsilon <span class="Operator">*</span> tmpcos<span class="Keyword">;</span>
 <span class="LineNumber">149</span>     tmpcos <span class="Operator">-</span><span class="Operator">=</span> epsilon <span class="Operator">*</span> tmpsin<span class="Keyword">;</span>
 <span class="LineNumber">150</span>     i <span class="Operator">+</span><span class="Operator">=</span> epsilon<span class="Keyword">;</span>
 <span class="LineNumber">151</span>   <span class="Parenthesis">}</span>
 <span class="LineNumber">152</span>   <span class="Keyword">EndWhile</span><span class="Keyword">;</span>
 <span class="LineNumber">153</span>   <span class="Keyword">Return</span> tmpsin<span class="Keyword">;</span>
 <span class="LineNumber">154</span> <span class="Parenthesis">}</span>
 <span class="LineNumber">155</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
 <span class="LineNumber">156</span> 
 <span class="LineNumber">157</span> <span class="Keyword">Function</span> arcsin<span class="Parenthesis">(</span><span class="Type">Decimal32</span> x<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Decimal32</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">158</span>   <span class="Keyword">Return</span> arctan<span class="Parenthesis">(</span>x <span class="Operator">/</span> sqrt<span class="Parenthesis">(</span><span class="Constant">1</span> <span class="Operator">-</span> x <span class="Operator">*</span> x<span class="Parenthesis">)</span><span class="Parenthesis">)</span><span class="Keyword">;</span> <span class="Comment">// Highschool mathematics.
 <span class="LineNumber">159</span> </span><span class="Parenthesis">}</span>
 <span class="LineNumber">160</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
 <span class="LineNumber">161</span> 
 <span class="LineNumber">162</span> <span class="Keyword">Function</span> arccos<span class="Parenthesis">(</span><span class="Type">Decimal32</span> x<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Decimal32</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">163</span>   <span class="Keyword">Return</span> <span class="Constant">90</span> <span class="Operator">-</span> arcsin<span class="Parenthesis">(</span>x<span class="Parenthesis">)</span><span class="Keyword">;</span> <span class="Comment">// Basic common sense to somebody who understands
 <span class="LineNumber">164</span> </span>  <span class="Comment">// what those terms mean.
 <span class="LineNumber">165</span> </span><span class="Parenthesis">}</span>
 <span class="LineNumber">166</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
 <span class="LineNumber">167</span> 
 <span class="LineNumber">168</span> <span class="Keyword">Function</span> cos<span class="Parenthesis">(</span><span class="Type">Decimal32</span> degrees<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Decimal32</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">169</span>   <span class="Keyword">Return</span> sin<span class="Parenthesis">(</span><span class="Constant">90</span> <span class="Operator">-</span> degrees<span class="Parenthesis">)</span><span class="Keyword">;</span> <span class="Comment">// Again, basic common sense to somebody who
 <span class="LineNumber">170</span> </span>                            <span class="Comment">// understands what those terms means.
 <span class="LineNumber">171</span> </span><span class="Parenthesis">}</span>
 <span class="LineNumber">172</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
 <span class="LineNumber">173</span> 
 <span class="LineNumber">174</span> <span class="Keyword">Function</span> tan<span class="Parenthesis">(</span><span class="Type">Decimal32</span> degrees<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Decimal32</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">175</span>   <span class="Keyword">Return</span> sin<span class="Parenthesis">(</span>degrees<span class="Parenthesis">)</span> <span class="Operator">/</span> cos<span class="Parenthesis">(</span>degrees<span class="Parenthesis">)</span><span class="Keyword">;</span> <span class="Comment">// The definition.
 <span class="LineNumber">176</span> </span><span class="Parenthesis">}</span>
 <span class="LineNumber">177</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
 <span class="LineNumber">178</span> 
 <span class="LineNumber">179</span> <span class="Keyword">Function</span> abs<span class="Parenthesis">(</span><span class="Type">Decimal32</span> x<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Decimal32</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">180</span>   <span class="Keyword">Return</span> x <span class="Operator">&lt;</span> <span class="Constant">0</span> <span class="Operator">?</span> <span class="Operator">-</span>x <span class="Operator">:</span> x<span class="Keyword">;</span>
 <span class="LineNumber">181</span> <span class="Parenthesis">}</span>
 <span class="LineNumber">182</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
 <span class="LineNumber">183</span> 
 <span class="LineNumber">184</span> <span class="Comment">// Now, let's implement some string manipulation functions. We can't
 <span class="LineNumber">185</span> </span><span class="Comment">// call the methods of the JavaScript "String" class here.
 <span class="LineNumber">186</span> </span><span class="Keyword">Function</span> strlen<span class="Parenthesis">(</span><span class="Type">CharacterPointer</span> ptr<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Integer32</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">187</span>   <span class="Keyword">Return</span> <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>ptr<span class="Parenthesis">)</span> <span class="Operator">=</span> <span class="Constant">0</span> <span class="Operator">?</span> <span class="Constant">0</span> <span class="Operator">:</span> <span class="Constant">1</span> <span class="Operator">+</span> strlen<span class="Parenthesis">(</span>ptr <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">188</span> <span class="Parenthesis">}</span>
 <span class="LineNumber">189</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
 <span class="LineNumber">190</span> 
 <span class="LineNumber">191</span> <span class="Keyword">Function</span> strcat<span class="Parenthesis">(</span><span class="Type">CharacterPointer</span> first<span class="Operator">,</span>
 <span class="LineNumber">192</span>                 <span class="Type">CharacterPointer</span> second<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Nothing</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">193</span>   first <span class="Operator">+</span><span class="Operator">=</span> strlen<span class="Parenthesis">(</span>first<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">194</span>   <span class="Keyword">While</span> <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>second<span class="Parenthesis">)</span> <span class="Keyword">Loop</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">195</span>     <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>first<span class="Parenthesis">)</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>second<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">196</span>     first <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">197</span>     second <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">198</span>   <span class="Parenthesis">}</span>
 <span class="LineNumber">199</span>   <span class="Keyword">EndWhile</span><span class="Keyword">;</span>
 <span class="LineNumber">200</span>   <span class="Operator">ValueAt</span><span class="Parenthesis">(</span>first<span class="Parenthesis">)</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">201</span> <span class="Parenthesis">}</span>
 <span class="LineNumber">202</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
 <span class="LineNumber">203</span> 
 <span class="LineNumber">204</span> <span class="Comment">// And, finally, we can start porting the original AEC Analog Clock,
 <span class="LineNumber">205</span> </span><span class="Comment">// which was targeting x86, to WebAssembly.
 <span class="LineNumber">206</span> </span><span class="Keyword">Function</span> updateClockToTime<span class="Parenthesis">(</span><span class="Type">Integer32</span> hour<span class="Operator">,</span> <span class="Type">Integer32</span> minute<span class="Operator">,</span>
 <span class="LineNumber">207</span>                            <span class="Type">Integer32</span> second<span class="Parenthesis">)</span> <span class="Keyword">Which</span> <span class="Keyword">Returns</span> <span class="Type">Nothing</span> <span class="Keyword">Does</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">208</span>   <span class="Type">Integer32</span> windowWidth <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">80</span><span class="Operator">,</span> windowHeight <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">23</span><span class="Operator">,</span> i <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">209</span>   <span class="Type">CharacterPointer</span> lightGrayColor <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">"#EEEEEE"</span><span class="Keyword">;</span>
 <span class="LineNumber">210</span>   <span class="Type">CharacterPointer</span> lightGreenColor <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">"#CCFFCC"</span><span class="Keyword">;</span>
 <span class="LineNumber">211</span>   <span class="Keyword">While</span> i <span class="Operator">&lt;</span> windowWidth <span class="Operator">*</span>windowHeight <span class="Keyword">Loop</span> <span class="Parenthesis">{</span> <span class="Comment">// First, fill the window with
 <span class="LineNumber">212</span> </span>                                             <span class="Comment">// spaces and newlines.
 <span class="LineNumber">213</span> </span>    <span class="Keyword">If</span> <span class="Operator">mod</span><span class="Parenthesis">(</span>i<span class="Operator">,</span> windowWidth<span class="Parenthesis">)</span> <span class="Operator">=</span> windowWidth <span class="Operator">-</span> <span class="Constant">1</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span> output<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'<b>\<i>n</i></b>'</span><span class="Keyword">;</span> <span class="Parenthesis">}</span>
 <span class="LineNumber">214</span>     <span class="Keyword">Else</span> <span class="Parenthesis">{</span> output<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">' '</span><span class="Keyword">;</span> <span class="Parenthesis">}</span>
 <span class="LineNumber">215</span>     <span class="Keyword">EndIf</span><span class="Keyword">;</span>
 <span class="LineNumber">216</span>     colors<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> lightGrayColor<span class="Keyword">;</span>
 <span class="LineNumber">217</span>     i <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">218</span>   <span class="Parenthesis">}</span>
 <span class="LineNumber">219</span>   <span class="Keyword">EndWhile</span><span class="Keyword">;</span>
 <span class="LineNumber">220</span>   <span class="Type">Integer32</span> centerX <span class="Operator">:</span> <span class="Operator">=</span> windowWidth <span class="Operator">/</span> <span class="Constant">2</span><span class="Operator">,</span> centerY <span class="Operator">:</span> <span class="Operator">=</span> windowHeight <span class="Operator">/</span> <span class="Constant">2</span><span class="Operator">,</span>
 <span class="LineNumber">221</span>                     clockRadius <span class="Operator">:</span> <span class="Operator">=</span> <span class="Parenthesis">(</span>centerX <span class="Operator">&lt;</span> centerY<span class="Parenthesis">)</span> <span class="Operator">?</span> centerX <span class="Operator">-</span> <span class="Constant">1</span>
 <span class="LineNumber">222</span>                                                         <span class="Operator">:</span> centerY <span class="Operator">-</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">223</span> i<span class="Operator">:</span>
 <span class="LineNumber">224</span>   <span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">225</span>   <span class="Keyword">While</span> i <span class="Operator">&lt;</span> windowWidth <span class="Operator">*</span>windowHeight <span class="Keyword">Loop</span> <span class="Parenthesis">{</span> <span class="Comment">// Next, draw the circle which
 <span class="LineNumber">226</span> </span>                                             <span class="Comment">// represents the clock
 <span class="LineNumber">227</span> </span>    <span class="Type">Integer32</span> y <span class="Operator">:</span> <span class="Operator">=</span> i <span class="Operator">/</span> windowWidth<span class="Operator">,</span> x <span class="Operator">:</span> <span class="Operator">=</span> <span class="Operator">mod</span><span class="Parenthesis">(</span>i<span class="Operator">,</span> windowWidth<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">228</span>     <span class="Type">Decimal32</span> distance <span class="Operator">:</span> <span class="Operator">=</span> sqrt<span class="Parenthesis">(</span><span class="Parenthesis">(</span>x <span class="Operator">-</span> centerX<span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>x <span class="Operator">-</span> centerX<span class="Parenthesis">)</span> <span class="Operator">+</span>
 <span class="LineNumber">229</span>                                 <span class="Parenthesis">(</span>y <span class="Operator">-</span> centerY<span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>y <span class="Operator">-</span> centerY<span class="Parenthesis">)</span><span class="Parenthesis">)</span><span class="Keyword">;</span> <span class="Comment">// Pythagorean
 <span class="LineNumber">230</span> </span>                                                                <span class="Comment">// Theorem.
 <span class="LineNumber">231</span> </span>    <span class="Keyword">If</span> abs<span class="Parenthesis">(</span>distance <span class="Operator">-</span> clockRadius<span class="Parenthesis">)</span> <span class="Operator">&lt;</span> <span class="Constant">3.</span> <span class="Operator">/</span> <span class="Constant">4</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">232</span>       output<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'*'</span><span class="Keyword">;</span>
 <span class="LineNumber">233</span>       colors<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> lightGreenColor<span class="Keyword">;</span>
 <span class="LineNumber">234</span>     <span class="Parenthesis">}</span>
 <span class="LineNumber">235</span>     <span class="Keyword">EndIf</span><span class="Keyword">;</span>
 <span class="LineNumber">236</span>     i <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">237</span>   <span class="Parenthesis">}</span>
 <span class="LineNumber">238</span>   <span class="Keyword">EndWhile</span><span class="Keyword">;</span>
 <span class="LineNumber">239</span>   <span class="Type">CharacterPointer</span> redColor <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">"#FFAAAA"</span><span class="Keyword">;</span>
 <span class="LineNumber">240</span>   <span class="Comment">// Label "12"...
 <span class="LineNumber">241</span> </span>  output<span class="Parenthesis">[</span><span class="Parenthesis">(</span>centerY <span class="Operator">-</span> clockRadius <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'1'</span><span class="Keyword">;</span>
 <span class="LineNumber">242</span>   output<span class="Parenthesis">[</span><span class="Parenthesis">(</span>centerY <span class="Operator">-</span> clockRadius <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'2'</span><span class="Keyword">;</span>
 <span class="LineNumber">243</span>   colors<span class="Parenthesis">[</span><span class="Parenthesis">(</span>centerY <span class="Operator">-</span> clockRadius <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX<span class="Parenthesis">]</span>
 <span class="LineNumber">244</span>       <span class="Operator">:</span> <span class="Operator">=</span> colors<span class="Parenthesis">[</span><span class="Parenthesis">(</span>centerY <span class="Operator">-</span> clockRadius <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">]</span>
 <span class="LineNumber">245</span>       <span class="Operator">:</span> <span class="Operator">=</span> redColor<span class="Keyword">;</span>
 <span class="LineNumber">246</span>   <span class="Comment">// Label "6"...
 <span class="LineNumber">247</span> </span>  output<span class="Parenthesis">[</span><span class="Parenthesis">(</span>centerY <span class="Operator">+</span> clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'6'</span><span class="Keyword">;</span>
 <span class="LineNumber">248</span>   colors<span class="Parenthesis">[</span><span class="Parenthesis">(</span>centerY <span class="Operator">+</span> clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> redColor<span class="Keyword">;</span>
 <span class="LineNumber">249</span>   <span class="Comment">// Label "3"...
 <span class="LineNumber">250</span> </span>  output<span class="Parenthesis">[</span>centerY <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'3'</span><span class="Keyword">;</span>
 <span class="LineNumber">251</span>   colors<span class="Parenthesis">[</span>centerY <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> redColor<span class="Keyword">;</span>
 <span class="LineNumber">252</span>   <span class="Comment">// Label "9"...
 <span class="LineNumber">253</span> </span>  output<span class="Parenthesis">[</span>centerY <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">-</span> clockRadius <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'9'</span><span class="Keyword">;</span>
 <span class="LineNumber">254</span>   colors<span class="Parenthesis">[</span>centerY <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">-</span> clockRadius <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> redColor<span class="Keyword">;</span>
 <span class="LineNumber">255</span>   <span class="Comment">// Label "1"...
 <span class="LineNumber">256</span> </span>  <span class="Type">Integer32</span> y <span class="Operator">:</span> <span class="Operator">=</span> centerY <span class="Operator">-</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">*</span> cos<span class="Parenthesis">(</span><span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">257</span>   output<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span><span class="Parenthesis">]</span>
 <span class="LineNumber">258</span>       <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'1'</span><span class="Keyword">;</span>
 <span class="LineNumber">259</span>   colors<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span><span class="Parenthesis">]</span>
 <span class="LineNumber">260</span>       <span class="Operator">:</span> <span class="Operator">=</span> redColor<span class="Keyword">;</span>
 <span class="LineNumber">261</span> <span class="Comment">// Label "2"...
 <span class="LineNumber">262</span> </span>y<span class="Operator">:</span>
 <span class="LineNumber">263</span>   <span class="Operator">=</span> centerY <span class="Operator">-</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1.5</span><span class="Parenthesis">)</span> <span class="Operator">*</span> cos<span class="Parenthesis">(</span><span class="Constant">2</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">264</span>   output<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">2</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1.5</span><span class="Parenthesis">)</span><span class="Parenthesis">]</span>
 <span class="LineNumber">265</span>       <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'2'</span><span class="Keyword">;</span>
 <span class="LineNumber">266</span>   colors<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">2</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1.5</span><span class="Parenthesis">)</span><span class="Parenthesis">]</span>
 <span class="LineNumber">267</span>       <span class="Operator">:</span> <span class="Operator">=</span> redColor<span class="Keyword">;</span>
 <span class="LineNumber">268</span> <span class="Comment">// Label "4"...
 <span class="LineNumber">269</span> </span>y<span class="Operator">:</span>
 <span class="LineNumber">270</span>   <span class="Operator">=</span> centerY <span class="Operator">-</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">*</span> cos<span class="Parenthesis">(</span><span class="Constant">4</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">271</span>   output<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">4</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">]</span>
 <span class="LineNumber">272</span>       <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'4'</span><span class="Keyword">;</span>
 <span class="LineNumber">273</span>   colors<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">4</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">]</span>
 <span class="LineNumber">274</span>       <span class="Operator">:</span> <span class="Operator">=</span> redColor<span class="Keyword">;</span>
 <span class="LineNumber">275</span> <span class="Comment">// Label "5"...
 <span class="LineNumber">276</span> </span>y<span class="Operator">:</span>
 <span class="LineNumber">277</span>   <span class="Operator">=</span> centerY <span class="Operator">-</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">*</span> cos<span class="Parenthesis">(</span><span class="Constant">5</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">278</span>   output<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">5</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">]</span>
 <span class="LineNumber">279</span>       <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'5'</span><span class="Keyword">;</span>
 <span class="LineNumber">280</span>   colors<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">5</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">]</span>
 <span class="LineNumber">281</span>       <span class="Operator">:</span> <span class="Operator">=</span> redColor<span class="Keyword">;</span>
 <span class="LineNumber">282</span> <span class="Comment">// Label "7"...
 <span class="LineNumber">283</span> </span>y<span class="Operator">:</span>
 <span class="LineNumber">284</span>   <span class="Operator">=</span> centerY <span class="Operator">-</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">*</span> cos<span class="Parenthesis">(</span><span class="Constant">7</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">285</span>   output<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">7</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span><span class="Parenthesis">]</span>
 <span class="LineNumber">286</span>       <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'7'</span><span class="Keyword">;</span>
 <span class="LineNumber">287</span>   colors<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">7</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span><span class="Parenthesis">]</span>
 <span class="LineNumber">288</span>       <span class="Operator">:</span> <span class="Operator">=</span> redColor<span class="Keyword">;</span>
 <span class="LineNumber">289</span> <span class="Comment">// Label "8"...
 <span class="LineNumber">290</span> </span>y<span class="Operator">:</span>
 <span class="LineNumber">291</span>   <span class="Operator">=</span> centerY <span class="Operator">-</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">*</span> cos<span class="Parenthesis">(</span><span class="Constant">8</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">292</span>   output<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">8</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span><span class="Parenthesis">]</span>
 <span class="LineNumber">293</span>       <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'8'</span><span class="Keyword">;</span>
 <span class="LineNumber">294</span>   colors<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">8</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span><span class="Parenthesis">]</span>
 <span class="LineNumber">295</span>       <span class="Operator">:</span> <span class="Operator">=</span> redColor<span class="Keyword">;</span>
 <span class="LineNumber">296</span> <span class="Comment">// Label "10"...
 <span class="LineNumber">297</span> </span>y<span class="Operator">:</span>
 <span class="LineNumber">298</span>   <span class="Operator">=</span> centerY <span class="Operator">-</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1.5</span><span class="Parenthesis">)</span> <span class="Operator">*</span> cos<span class="Parenthesis">(</span><span class="Constant">10</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">299</span>   output<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">10</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1.5</span><span class="Parenthesis">)</span> <span class="Operator">+</span>
 <span class="LineNumber">300</span>          <span class="Constant">1</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'1'</span><span class="Keyword">;</span>
 <span class="LineNumber">301</span>   output<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">10</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1.5</span><span class="Parenthesis">)</span> <span class="Operator">+</span>
 <span class="LineNumber">302</span>          <span class="Constant">2</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'0'</span><span class="Keyword">;</span>
 <span class="LineNumber">303</span>   colors<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">10</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1.5</span><span class="Parenthesis">)</span> <span class="Operator">+</span>
 <span class="LineNumber">304</span>          <span class="Constant">1</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> colors<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span>
 <span class="LineNumber">305</span>                        sin<span class="Parenthesis">(</span><span class="Constant">10</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1.5</span><span class="Parenthesis">)</span> <span class="Operator">+</span> <span class="Constant">2</span><span class="Parenthesis">]</span>
 <span class="LineNumber">306</span>       <span class="Operator">:</span> <span class="Operator">=</span> redColor<span class="Keyword">;</span>
 <span class="LineNumber">307</span> <span class="Comment">// Label "11"...
 <span class="LineNumber">308</span> </span>y<span class="Operator">:</span>
 <span class="LineNumber">309</span>   <span class="Operator">=</span> centerY <span class="Operator">-</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1.5</span><span class="Parenthesis">)</span> <span class="Operator">*</span> cos<span class="Parenthesis">(</span><span class="Constant">11</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">310</span>   output<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">11</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1.5</span><span class="Parenthesis">)</span> <span class="Operator">+</span>
 <span class="LineNumber">311</span>          <span class="Constant">1</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> output<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span>
 <span class="LineNumber">312</span>                        sin<span class="Parenthesis">(</span><span class="Constant">11</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1.5</span><span class="Parenthesis">)</span> <span class="Operator">+</span> <span class="Constant">2</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'1'</span><span class="Keyword">;</span>
 <span class="LineNumber">313</span>   colors<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span> sin<span class="Parenthesis">(</span><span class="Constant">11</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1.5</span><span class="Parenthesis">)</span> <span class="Operator">+</span>
 <span class="LineNumber">314</span>          <span class="Constant">1</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> colors<span class="Parenthesis">[</span>y <span class="Operator">*</span> windowWidth <span class="Operator">+</span> centerX <span class="Operator">+</span>
 <span class="LineNumber">315</span>                        sin<span class="Parenthesis">(</span><span class="Constant">11</span> <span class="Operator">*</span> <span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span>clockRadius <span class="Operator">-</span> <span class="Constant">1.5</span><span class="Parenthesis">)</span> <span class="Operator">+</span> <span class="Constant">2</span><span class="Parenthesis">]</span>
 <span class="LineNumber">316</span>       <span class="Operator">:</span> <span class="Operator">=</span> redColor<span class="Keyword">;</span>
 <span class="LineNumber">317</span>   <span class="Type">Integer32</span> j <span class="Operator">:</span> <span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">318</span>   <span class="Type">Decimal32</span> angle<span class="Keyword">;</span>
 <span class="LineNumber">319</span>   <span class="Type">CharacterPointer</span> blueColor <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">"#AAAAFF"</span><span class="Keyword">;</span>
 <span class="LineNumber">320</span>   <span class="Type">CharacterPointer</span> yellowColor <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">"#FFFFAA"</span><span class="Keyword">;</span>
 <span class="LineNumber">321</span>   <span class="Keyword">While</span> j <span class="Operator">&lt;</span> <span class="Constant">3</span> <span class="Keyword">Loop</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">322</span>     <span class="Type">CharacterPointer</span> currentColor<span class="Keyword">;</span>
 <span class="LineNumber">323</span>     <span class="Keyword">If</span> j <span class="Operator">=</span> <span class="Constant">0</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">324</span>     angle<span class="Operator">:</span>
 <span class="LineNumber">325</span>       <span class="Operator">=</span> fmod<span class="Parenthesis">(</span>hour <span class="Operator">+</span> minute <span class="Operator">/</span> <span class="Constant">60.</span><span class="Operator">,</span> <span class="Constant">12</span><span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span><span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">12</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">326</span>     currentColor<span class="Operator">:</span>
 <span class="LineNumber">327</span>       <span class="Operator">=</span> redColor<span class="Keyword">;</span>
 <span class="LineNumber">328</span>     <span class="Parenthesis">}</span>
 <span class="LineNumber">329</span>     <span class="Keyword">ElseIf</span> j <span class="Operator">=</span> <span class="Constant">1</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">330</span>     angle<span class="Operator">:</span>
 <span class="LineNumber">331</span>       <span class="Operator">=</span> minute <span class="Operator">*</span> <span class="Parenthesis">(</span><span class="Constant">360.</span> <span class="Operator">/</span> <span class="Constant">60</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">332</span>     currentColor<span class="Operator">:</span>
 <span class="LineNumber">333</span>       <span class="Operator">=</span> yellowColor<span class="Keyword">;</span>
 <span class="LineNumber">334</span>     <span class="Parenthesis">}</span>
 <span class="LineNumber">335</span>     <span class="Keyword">Else</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">336</span>     angle<span class="Operator">:</span>
 <span class="LineNumber">337</span>       <span class="Operator">=</span> second <span class="Operator">*</span> <span class="Parenthesis">(</span><span class="Constant">360</span> <span class="Operator">/</span> <span class="Constant">60</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">338</span>     currentColor<span class="Operator">:</span>
 <span class="LineNumber">339</span>       <span class="Operator">=</span> blueColor<span class="Keyword">;</span>
 <span class="LineNumber">340</span>     <span class="Parenthesis">}</span>
 <span class="LineNumber">341</span>     <span class="Keyword">EndIf</span><span class="Keyword">;</span>
 <span class="LineNumber">342</span>     <span class="Type">Decimal32</span> endOfTheHandX
 <span class="LineNumber">343</span>         <span class="Operator">:</span> <span class="Operator">=</span> centerX <span class="Operator">+</span>
 <span class="LineNumber">344</span>             sin<span class="Parenthesis">(</span>angle<span class="Parenthesis">)</span> <span class="Operator">*</span> clockRadius <span class="Operator">/</span> <span class="Parenthesis">(</span>j <span class="Operator">=</span> <span class="Constant">0</span> <span class="Operator">?</span> <span class="Constant">2.</span> <span class="Operator">:</span> j <span class="Operator">=</span> <span class="Constant">1</span> <span class="Operator">?</span> <span class="Constant">3.</span> <span class="Operator">/</span> <span class="Constant">2</span> <span class="Operator">:</span> <span class="Constant">4.</span> <span class="Operator">/</span> <span class="Constant">3</span><span class="Parenthesis">)</span><span class="Operator">,</span>
 <span class="LineNumber">345</span>         endOfTheHandY <span class="Operator">:</span> <span class="Operator">=</span> centerY <span class="Operator">-</span> cos<span class="Parenthesis">(</span>angle<span class="Parenthesis">)</span> <span class="Operator">*</span> clockRadius <span class="Operator">/</span>
 <span class="LineNumber">346</span>                                         <span class="Parenthesis">(</span>j <span class="Operator">=</span> <span class="Constant">0</span> <span class="Operator">?</span> <span class="Constant">2.</span> <span class="Operator">:</span> j <span class="Operator">=</span> <span class="Constant">1</span> <span class="Operator">?</span> <span class="Constant">3.</span> <span class="Operator">/</span> <span class="Constant">2</span> <span class="Operator">:</span> <span class="Constant">4.</span> <span class="Operator">/</span> <span class="Constant">3</span><span class="Parenthesis">)</span><span class="Operator">,</span>
 <span class="LineNumber">347</span>         coefficientOfTheDirection
 <span class="LineNumber">348</span>         <span class="Operator">:</span> <span class="Operator">=</span> <span class="Parenthesis">(</span>endOfTheHandY <span class="Operator">-</span> centerY<span class="Parenthesis">)</span> <span class="Operator">/</span>
 <span class="LineNumber">349</span>             <span class="Parenthesis">(</span>abs<span class="Parenthesis">(</span>endOfTheHandX <span class="Operator">-</span> centerX<span class="Parenthesis">)</span> <span class="Operator">=</span> <span class="Constant">0</span> <span class="Operator">?</span>
 <span class="LineNumber">350</span>                                               <span class="Comment">// Protect ourselves from
 <span class="LineNumber">351</span> </span>                                              <span class="Comment">// dividing by 0.
 <span class="LineNumber">352</span> </span>                                                <span class="Constant">1.</span> <span class="Operator">/</span> <span class="Constant">100</span>
 <span class="LineNumber">353</span>                                               <span class="Operator">:</span> endOfTheHandX <span class="Operator">-</span> centerX<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">354</span>     logString<span class="Parenthesis">(</span><span class="String">"Drawing line between ("</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">355</span>     logInteger<span class="Parenthesis">(</span>centerX<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">356</span>     logString<span class="Parenthesis">(</span><span class="String">","</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">357</span>     logInteger<span class="Parenthesis">(</span>centerY<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">358</span>     logString<span class="Parenthesis">(</span><span class="String">") and ("</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">359</span>     logInteger<span class="Parenthesis">(</span>endOfTheHandX<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">360</span>     logString<span class="Parenthesis">(</span><span class="String">","</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">361</span>     logInteger<span class="Parenthesis">(</span>endOfTheHandY<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">362</span>     logString<span class="Parenthesis">(</span><span class="String">").<b>\<i>n</i></b>"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">363</span>   i<span class="Operator">:</span>
 <span class="LineNumber">364</span>     <span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">365</span>     <span class="Keyword">While</span> i <span class="Operator">&lt;</span> windowWidth <span class="Operator">*</span>windowHeight <span class="Keyword">Loop</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">366</span>       <span class="Type">Decimal32</span> lowerBoundX
 <span class="LineNumber">367</span>           <span class="Operator">:</span> <span class="Operator">=</span> endOfTheHandX <span class="Operator">&lt;</span> centerX <span class="Operator">?</span> endOfTheHandX <span class="Operator">:</span> <span class="Type">Decimal32</span><span class="Parenthesis">(</span>centerX<span class="Parenthesis">)</span><span class="Operator">,</span>
 <span class="LineNumber">368</span>           upperBoundX <span class="Operator">:</span> <span class="Operator">=</span> endOfTheHandX <span class="Operator">&gt;</span> centerX <span class="Operator">?</span> endOfTheHandX
 <span class="LineNumber">369</span>                                                   <span class="Operator">:</span> <span class="Type">Decimal32</span><span class="Parenthesis">(</span>centerX<span class="Parenthesis">)</span><span class="Operator">,</span>
 <span class="LineNumber">370</span>           lowerBoundY <span class="Operator">:</span> <span class="Operator">=</span> endOfTheHandY <span class="Operator">&lt;</span> centerY <span class="Operator">?</span> endOfTheHandY <span class="Operator">:</span> centerY<span class="Operator">,</span>
 <span class="LineNumber">371</span>           upperBoundY <span class="Operator">:</span> <span class="Operator">=</span> endOfTheHandY <span class="Operator">&gt;</span> centerY <span class="Operator">?</span> endOfTheHandY <span class="Operator">:</span> centerY<span class="Keyword">;</span>
 <span class="LineNumber">372</span>     y<span class="Operator">:</span>
 <span class="LineNumber">373</span>       <span class="Operator">=</span> i <span class="Operator">/</span> windowWidth<span class="Keyword">;</span>
 <span class="LineNumber">374</span>       <span class="Type">Integer32</span> x <span class="Operator">:</span> <span class="Operator">=</span> <span class="Operator">mod</span><span class="Parenthesis">(</span>i<span class="Operator">,</span> windowWidth<span class="Parenthesis">)</span><span class="Operator">,</span> isXWithinBounds<span class="Keyword">;</span>
 <span class="LineNumber">375</span>     isXWithinBounds<span class="Operator">:</span>
 <span class="LineNumber">376</span>       <span class="Operator">=</span> <span class="Parenthesis">(</span>x <span class="Operator">&gt;</span> lowerBoundX <span class="Operator">or</span> x <span class="Operator">=</span> lowerBoundX<span class="Parenthesis">)</span> <span class="Operator">and</span>
 <span class="LineNumber">377</span>         <span class="Parenthesis">(</span>x <span class="Operator">&lt;</span> upperBoundX <span class="Operator">or</span> x <span class="Operator">=</span> upperBoundX<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">378</span>       <span class="Type">Integer32</span> isYWithinBounds<span class="Keyword">;</span>
 <span class="LineNumber">379</span>     isYWithinBounds<span class="Operator">:</span>
 <span class="LineNumber">380</span>       <span class="Operator">=</span> <span class="Parenthesis">(</span>y <span class="Operator">&gt;</span> lowerBoundY <span class="Operator">or</span> y <span class="Operator">=</span> lowerBoundY<span class="Parenthesis">)</span> <span class="Operator">and</span>
 <span class="LineNumber">381</span>         <span class="Parenthesis">(</span>y <span class="Operator">&lt;</span> upperBoundY <span class="Operator">or</span> y <span class="Operator">=</span> upperBoundY<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">382</span>       <span class="Keyword">If</span> isXWithinBounds <span class="Operator">and</span> isYWithinBounds <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">383</span>         <span class="Type">Decimal32</span> expectedX<span class="Operator">,</span> expectedY<span class="Keyword">;</span>
 <span class="LineNumber">384</span>       expectedY<span class="Operator">:</span>
 <span class="LineNumber">385</span>         <span class="Operator">=</span> <span class="Parenthesis">(</span>x <span class="Operator">-</span> centerX<span class="Parenthesis">)</span> <span class="Operator">*</span> coefficientOfTheDirection <span class="Operator">+</span> centerY<span class="Keyword">;</span>
 <span class="LineNumber">386</span>       expectedX<span class="Operator">:</span>
 <span class="LineNumber">387</span>         <span class="Operator">=</span> <span class="Parenthesis">(</span>y <span class="Operator">-</span> centerY<span class="Parenthesis">)</span> <span class="Operator">*</span> <span class="Parenthesis">(</span><span class="Constant">1</span> <span class="Operator">/</span> coefficientOfTheDirection<span class="Parenthesis">)</span> <span class="Operator">+</span> centerX<span class="Keyword">;</span>
 <span class="LineNumber">388</span>         <span class="Keyword">If</span> coefficientOfTheDirection <span class="Operator">=</span> <span class="Constant">1.</span> <span class="Operator">/</span> <span class="Constant">0</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">389</span>         expectedY<span class="Operator">:</span>
 <span class="LineNumber">390</span>           <span class="Operator">=</span> <span class="Constant">1000</span><span class="Keyword">;</span> <span class="Comment">// Bigger than any possible value.
 <span class="LineNumber">391</span> </span>        <span class="Parenthesis">}</span>
 <span class="LineNumber">392</span>         <span class="Keyword">EndIf</span><span class="Keyword">;</span>
 <span class="LineNumber">393</span>         <span class="Keyword">If</span> coefficientOfTheDirection <span class="Operator">=</span> <span class="Constant">0</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">394</span>         expectedX<span class="Operator">:</span>
 <span class="LineNumber">395</span>           <span class="Operator">=</span> <span class="Constant">1000</span><span class="Keyword">;</span> <span class="Comment">// Again, bigger than any possible.
 <span class="LineNumber">396</span> </span>        <span class="Parenthesis">}</span>
 <span class="LineNumber">397</span>         <span class="Keyword">EndIf</span><span class="Keyword">;</span>
 <span class="LineNumber">398</span>         logString<span class="Parenthesis">(</span><span class="String">"The point ("</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">399</span>         logInteger<span class="Parenthesis">(</span>x<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">400</span>         logString<span class="Parenthesis">(</span><span class="String">","</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">401</span>         logInteger<span class="Parenthesis">(</span>y<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">402</span>         logString<span class="Parenthesis">(</span><span class="String">") is within bounds, expectedY is "</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">403</span>         logInteger<span class="Parenthesis">(</span>expectedY<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">404</span>         logString<span class="Parenthesis">(</span><span class="String">" and expectedX is "</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">405</span>         logInteger<span class="Parenthesis">(</span>expectedX<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">406</span>         logString<span class="Parenthesis">(</span><span class="String">".<b>\<i>n</i></b>"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">407</span>         <span class="Type">Character</span> currentSign <span class="Operator">:</span> <span class="Operator">=</span> j <span class="Operator">=</span> <span class="Constant">0</span> <span class="Operator">?</span> <span class="String">'h'</span> <span class="Operator">:</span> j <span class="Operator">=</span> <span class="Constant">1</span> <span class="Operator">?</span> <span class="String">'m'</span> <span class="Operator">:</span> <span class="String">'s'</span><span class="Keyword">;</span>
 <span class="LineNumber">408</span>         <span class="Keyword">If</span><span class="Parenthesis">(</span>abs<span class="Parenthesis">(</span>upperBoundX <span class="Operator">-</span> lowerBoundX<span class="Parenthesis">)</span> <span class="Operator">&lt;</span> <span class="Constant">1</span> <span class="Operator">+</span> <span class="Constant">1</span> <span class="Operator">/</span> PRECISION <span class="Operator">or</span>
 <span class="LineNumber">409</span>            abs<span class="Parenthesis">(</span>upperBoundY <span class="Operator">-</span> lowerBoundY<span class="Parenthesis">)</span> <span class="Operator">&lt;</span> <span class="Constant">1</span> <span class="Operator">+</span> <span class="Constant">1</span> <span class="Operator">/</span> PRECISION<span class="Parenthesis">)</span> <span class="Operator">and</span>
 <span class="LineNumber">410</span>             output<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">=</span> <span class="String">' '</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">411</span>           output<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> currentSign<span class="Keyword">;</span>
 <span class="LineNumber">412</span>           colors<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> currentColor<span class="Keyword">;</span>
 <span class="LineNumber">413</span>         <span class="Parenthesis">}</span>
 <span class="LineNumber">414</span>         <span class="Keyword">EndIf</span><span class="Keyword">;</span>
 <span class="LineNumber">415</span>         <span class="Keyword">If</span><span class="Parenthesis">(</span>abs<span class="Parenthesis">(</span>expectedX <span class="Operator">-</span> x<span class="Parenthesis">)</span> <span class="Operator">&lt;</span> <span class="Constant">3.</span> <span class="Operator">/</span> <span class="Constant">4</span> <span class="Operator">or</span> abs<span class="Parenthesis">(</span>expectedY <span class="Operator">-</span> y<span class="Parenthesis">)</span> <span class="Operator">&lt;</span> <span class="Constant">3.</span> <span class="Operator">/</span> <span class="Constant">4</span><span class="Parenthesis">)</span> <span class="Operator">and</span>
 <span class="LineNumber">416</span>             output<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">=</span> <span class="String">' '</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">417</span>           output<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> currentSign<span class="Keyword">;</span>
 <span class="LineNumber">418</span>           colors<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> currentColor<span class="Keyword">;</span>
 <span class="LineNumber">419</span>         <span class="Parenthesis">}</span>
 <span class="LineNumber">420</span>         <span class="Keyword">EndIf</span><span class="Keyword">;</span>
 <span class="LineNumber">421</span>       <span class="Parenthesis">}</span>
 <span class="LineNumber">422</span>       <span class="Keyword">EndIf</span><span class="Keyword">;</span>
 <span class="LineNumber">423</span>       i <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">424</span>     <span class="Parenthesis">}</span>
 <span class="LineNumber">425</span>     <span class="Keyword">EndWhile</span><span class="Keyword">;</span>
 <span class="LineNumber">426</span>     j <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">427</span>   <span class="Parenthesis">}</span>
 <span class="LineNumber">428</span>   <span class="Keyword">EndWhile</span><span class="Keyword">;</span>
 <span class="LineNumber">429</span>   <span class="Comment">// Let's draw some ornaments.
 <span class="LineNumber">430</span> </span>  <span class="Type">CharacterPointer</span> darkGreenColor <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">"#AAFFAA"</span><span class="Keyword">;</span>
 <span class="LineNumber">431</span> i<span class="Operator">:</span>
 <span class="LineNumber">432</span>   <span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">433</span>   <span class="Keyword">While</span> i <span class="Operator">&lt;</span> windowWidth <span class="Operator">*</span>windowHeight <span class="Keyword">Loop</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">434</span>   y<span class="Operator">:</span>
 <span class="LineNumber">435</span>     <span class="Operator">=</span> i <span class="Operator">/</span> windowWidth<span class="Keyword">;</span>
 <span class="LineNumber">436</span>     <span class="Type">Integer32</span> x <span class="Operator">:</span> <span class="Operator">=</span> <span class="Operator">mod</span><span class="Parenthesis">(</span>i<span class="Operator">,</span> windowWidth<span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">437</span>     <span class="Keyword">If</span> abs<span class="Parenthesis">(</span>windowHeight <span class="Operator">-</span> <span class="Constant">2</span> <span class="Operator">*</span> ln<span class="Parenthesis">(</span><span class="Constant">1</span> <span class="Operator">+</span> abs<span class="Parenthesis">(</span><span class="Parenthesis">(</span>x <span class="Operator">-</span> centerX<span class="Parenthesis">)</span> <span class="Operator">/</span> <span class="Constant">2.</span><span class="Parenthesis">)</span><span class="Parenthesis">)</span> <span class="Operator">-</span>
 <span class="LineNumber">438</span>            y<span class="Parenthesis">)</span><span class="Operator">&lt;</span><span class="Constant">1</span> <span class="Operator">-</span> abs<span class="Parenthesis">(</span>x <span class="Operator">-</span> centerX<span class="Parenthesis">)</span> <span class="Operator">/</span> <span class="Parenthesis">(</span>centerX <span class="Operator">*</span> <span class="Constant">95.</span> <span class="Operator">/</span> <span class="Constant">112</span><span class="Parenthesis">)</span> <span class="Operator">and</span> x<span class="Operator">&gt;</span> <span class="Constant">1.</span> <span class="Operator">/</span>
 <span class="LineNumber">439</span>             <span class="Constant">2</span> <span class="Operator">*</span> centerX <span class="Operator">and</span> x <span class="Operator">&lt;</span>
 <span class="LineNumber">440</span>         <span class="Constant">3.</span> <span class="Operator">/</span> <span class="Constant">2</span> <span class="Operator">*</span> centerX <span class="Operator">and</span> output<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">=</span>
 <span class="LineNumber">441</span>         <span class="String">' '</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span> <span class="Comment">// The logarithmic curve looks somewhat
 <span class="LineNumber">442</span> </span>                   <span class="Comment">// like a lemma of a flower.
 <span class="LineNumber">443</span> </span>      output<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'x'</span><span class="Keyword">;</span>
 <span class="LineNumber">444</span>       colors<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> darkGreenColor<span class="Keyword">;</span>
 <span class="LineNumber">445</span>     <span class="Parenthesis">}</span>
 <span class="LineNumber">446</span>     <span class="Keyword">EndIf</span><span class="Keyword">;</span>
 <span class="LineNumber">447</span>     i <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">448</span>   <span class="Parenthesis">}</span>
 <span class="LineNumber">449</span>   <span class="Keyword">EndWhile</span><span class="Keyword">;</span>
 <span class="LineNumber">450</span> <span class="Comment">// Let's try to make it look like the bottom of the lemma isn't floating
 <span class="LineNumber">451</span> </span><span class="Comment">// in the air.
 <span class="LineNumber">452</span> </span>j<span class="Operator">:</span>
 <span class="LineNumber">453</span>   <span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">454</span>   <span class="Keyword">While</span> j <span class="Operator">&lt;</span> <span class="Constant">3</span> <span class="Keyword">Loop</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">455</span>   i<span class="Operator">:</span>
 <span class="LineNumber">456</span>     <span class="Operator">=</span> windowWidth <span class="Operator">*</span> <span class="Parenthesis">(</span>windowHeight <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">)</span><span class="Keyword">;</span> <span class="Comment">// So, move to the beginning of
 <span class="LineNumber">457</span> </span>                                        <span class="Comment">// the last line.
 <span class="LineNumber">458</span> </span>    <span class="Keyword">While</span> i <span class="Operator">&lt;</span> windowWidth <span class="Operator">*</span>windowHeight <span class="Keyword">Loop</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">459</span>       <span class="Keyword">If</span> j <span class="Operator">&lt;</span> <span class="Constant">2</span> <span class="Operator">and</span> <span class="Parenthesis">(</span>output<span class="Parenthesis">[</span>i <span class="Operator">-</span> windowWidth<span class="Parenthesis">]</span> <span class="Operator">=</span>
 <span class="LineNumber">460</span>                         <span class="String">'x'</span> <span class="Operator">and</span> <span class="Parenthesis">(</span>output<span class="Parenthesis">[</span>i <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">]</span> <span class="Operator">=</span> <span class="String">'x'</span> <span class="Operator">or</span> output<span class="Parenthesis">[</span>i <span class="Operator">-</span> <span class="Constant">1</span><span class="Parenthesis">]</span> <span class="Operator">=</span> <span class="String">'x'</span><span class="Parenthesis">)</span><span class="Parenthesis">)</span>
 <span class="LineNumber">461</span>                        <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">462</span>         output<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'x'</span><span class="Keyword">;</span>
 <span class="LineNumber">463</span>         colors<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> darkGreenColor<span class="Keyword">;</span>
 <span class="LineNumber">464</span>       <span class="Parenthesis">}</span>
 <span class="LineNumber">465</span>       <span class="Keyword">ElseIf</span> j <span class="Operator">=</span>
 <span class="LineNumber">466</span>           <span class="Constant">2</span> <span class="Operator">and</span> <span class="Parenthesis">(</span>output<span class="Parenthesis">[</span>i <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">]</span> <span class="Operator">=</span> <span class="String">' '</span> <span class="Operator">and</span> output<span class="Parenthesis">[</span>i <span class="Operator">-</span> windowWidth<span class="Parenthesis">]</span> <span class="Operator">=</span> <span class="String">'x'</span><span class="Parenthesis">)</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">467</span>         output<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">' '</span><span class="Keyword">;</span>
 <span class="LineNumber">468</span>       <span class="Parenthesis">}</span>
 <span class="LineNumber">469</span>       <span class="Keyword">EndIf</span><span class="Keyword">;</span>
 <span class="LineNumber">470</span>       i <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">471</span>     <span class="Parenthesis">}</span>
 <span class="LineNumber">472</span>     <span class="Keyword">EndWhile</span><span class="Keyword">;</span>
 <span class="LineNumber">473</span>     j <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">474</span>   <span class="Parenthesis">}</span>
 <span class="LineNumber">475</span>   <span class="Keyword">EndWhile</span><span class="Keyword">;</span>
 <span class="LineNumber">476</span>   <span class="Comment">// The digital clock in the corner...
 <span class="LineNumber">477</span> </span>  output<span class="Parenthesis">[</span>windowWidth <span class="Operator">*</span> windowHeight <span class="Operator">-</span> <span class="Constant">2</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'0'</span> <span class="Operator">+</span> <span class="Operator">mod</span><span class="Parenthesis">(</span>second<span class="Operator">,</span> <span class="Constant">10</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">478</span>   output<span class="Parenthesis">[</span>windowWidth <span class="Operator">*</span> windowHeight <span class="Operator">-</span> <span class="Constant">3</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'0'</span> <span class="Operator">+</span> second <span class="Operator">/</span> <span class="Constant">10</span><span class="Keyword">;</span>
 <span class="LineNumber">479</span>   colors<span class="Parenthesis">[</span>windowWidth <span class="Operator">*</span> windowHeight <span class="Operator">-</span> <span class="Constant">2</span><span class="Parenthesis">]</span>
 <span class="LineNumber">480</span>       <span class="Operator">:</span> <span class="Operator">=</span> colors<span class="Parenthesis">[</span>windowWidth <span class="Operator">*</span> windowHeight <span class="Operator">-</span> <span class="Constant">3</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> blueColor<span class="Keyword">;</span>
 <span class="LineNumber">481</span>   output<span class="Parenthesis">[</span>windowWidth <span class="Operator">*</span> windowHeight <span class="Operator">-</span> <span class="Constant">4</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">':'</span><span class="Keyword">;</span>
 <span class="LineNumber">482</span>   output<span class="Parenthesis">[</span>windowWidth <span class="Operator">*</span> windowHeight <span class="Operator">-</span> <span class="Constant">5</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'0'</span> <span class="Operator">+</span> <span class="Operator">mod</span><span class="Parenthesis">(</span>minute<span class="Operator">,</span> <span class="Constant">10</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">483</span>   output<span class="Parenthesis">[</span>windowWidth <span class="Operator">*</span> windowHeight <span class="Operator">-</span> <span class="Constant">6</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'0'</span> <span class="Operator">+</span> minute <span class="Operator">/</span> <span class="Constant">10</span><span class="Keyword">;</span>
 <span class="LineNumber">484</span>   colors<span class="Parenthesis">[</span>windowWidth <span class="Operator">*</span> windowHeight <span class="Operator">-</span> <span class="Constant">5</span><span class="Parenthesis">]</span>
 <span class="LineNumber">485</span>       <span class="Operator">:</span> <span class="Operator">=</span> colors<span class="Parenthesis">[</span>windowWidth <span class="Operator">*</span> windowHeight <span class="Operator">-</span> <span class="Constant">6</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> yellowColor<span class="Keyword">;</span>
 <span class="LineNumber">486</span>   output<span class="Parenthesis">[</span>windowWidth <span class="Operator">*</span> windowHeight <span class="Operator">-</span> <span class="Constant">7</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">':'</span><span class="Keyword">;</span>
 <span class="LineNumber">487</span>   output<span class="Parenthesis">[</span>windowWidth <span class="Operator">*</span> windowHeight <span class="Operator">-</span> <span class="Constant">8</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'0'</span> <span class="Operator">+</span> <span class="Operator">mod</span><span class="Parenthesis">(</span>hour<span class="Operator">,</span> <span class="Constant">10</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">488</span>   output<span class="Parenthesis">[</span>windowWidth <span class="Operator">*</span> windowHeight <span class="Operator">-</span> <span class="Constant">9</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">'0'</span> <span class="Operator">+</span> hour <span class="Operator">/</span> <span class="Constant">10</span><span class="Keyword">;</span>
 <span class="LineNumber">489</span>   colors<span class="Parenthesis">[</span>windowWidth <span class="Operator">*</span> windowHeight <span class="Operator">-</span> <span class="Constant">8</span><span class="Parenthesis">]</span>
 <span class="LineNumber">490</span>       <span class="Operator">:</span> <span class="Operator">=</span> colors<span class="Parenthesis">[</span>windowWidth <span class="Operator">*</span> windowHeight <span class="Operator">-</span> <span class="Constant">9</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> redColor<span class="Keyword">;</span>
 <span class="LineNumber">491</span>   <span class="Comment">// My signature...
 <span class="LineNumber">492</span> </span>  <span class="Type">Character</span> signature<span class="Parenthesis">[</span><span class="Constant">100</span><span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="Parenthesis">{</span><span class="Constant">0</span><span class="Parenthesis">}</span><span class="Keyword">;</span>
 <span class="LineNumber">493</span>   <span class="Type">CharacterPointer</span> signature <span class="Operator">:</span> <span class="Operator">=</span> <span class="Operator">AddressOf</span><span class="Parenthesis">(</span>signature<span class="Parenthesis">[</span><span class="Constant">0</span><span class="Parenthesis">]</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">494</span>   <span class="Comment">// AEC, unlike C, always makes a clear distinction between
 <span class="LineNumber">495</span> </span>  <span class="Comment">// arrays and pointers.
 <span class="LineNumber">496</span> </span>  logString<span class="Parenthesis">(</span><span class="String">"Empty signature has length of: "</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">497</span>   logInteger<span class="Parenthesis">(</span>strlen<span class="Parenthesis">(</span>signature<span class="Parenthesis">)</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">498</span>   logString<span class="Parenthesis">(</span><span class="String">"<b>\<i>n</i></b>"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">499</span>   strcat<span class="Parenthesis">(</span>signature<span class="Operator">,</span> <span class="String">" Analog Clock for WebAssembly<b>\<i>n</i></b>"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">500</span>   logString<span class="Parenthesis">(</span><span class="String">"The first row of the signature has length of: "</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">501</span>   logInteger<span class="Parenthesis">(</span>strlen<span class="Parenthesis">(</span>signature<span class="Parenthesis">)</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">502</span>   logString<span class="Parenthesis">(</span><span class="String">"<b>\<i>n</i></b>"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">503</span>   strcat<span class="Parenthesis">(</span>signature<span class="Operator">,</span> <span class="String">" Made in AEC by<b>\<i>n</i></b>"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">504</span>   logString<span class="Parenthesis">(</span><span class="String">"The first two rows of signature have length: "</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">505</span>   logInteger<span class="Parenthesis">(</span>strlen<span class="Parenthesis">(</span>signature<span class="Parenthesis">)</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">506</span>   logString<span class="Parenthesis">(</span><span class="String">"<b>\<i>n</i></b>"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">507</span>   strcat<span class="Parenthesis">(</span>signature<span class="Operator">,</span> <span class="String">" Teo Samarzija"</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">508</span>   logString<span class="Parenthesis">(</span><span class="String">"Signature has length of: "</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">509</span>   logInteger<span class="Parenthesis">(</span>strlen<span class="Parenthesis">(</span>signature<span class="Parenthesis">)</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">510</span>   logString<span class="Parenthesis">(</span><span class="String">" <b>\<i>n</i></b><b>\<i>n</i></b>"</span><span class="Parenthesis">)</span><span class="Keyword">;</span> <span class="Comment">// Let's mark the last log of this function like this.
 <span class="LineNumber">511</span> </span>i<span class="Operator">:</span>
 <span class="LineNumber">512</span>   <span class="Operator">=</span> windowWidth <span class="Operator">*</span> <span class="Parenthesis">(</span>windowHeight <span class="Operator">-</span> <span class="Constant">3</span><span class="Parenthesis">)</span><span class="Keyword">;</span>
 <span class="LineNumber">513</span> j<span class="Operator">:</span>
 <span class="LineNumber">514</span>   <span class="Operator">=</span> <span class="Constant">0</span><span class="Keyword">;</span>
 <span class="LineNumber">515</span>   <span class="Type">CharacterPointer</span> modraColor <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">"#AAFFFF"</span><span class="Keyword">;</span> <span class="Comment">// Sorry, I don't know how
 <span class="LineNumber">516</span> </span>                                             <span class="Comment">// to say "modra" in English,
 <span class="LineNumber">517</span> </span>                                             <span class="Comment">// and I am not wasting my time
 <span class="LineNumber">518</span> </span>                                             <span class="Comment">// looking that up.
 <span class="LineNumber">519</span> </span>  <span class="Keyword">While</span> <span class="Operator">not</span><span class="Parenthesis">(</span>signature<span class="Parenthesis">[</span>j<span class="Parenthesis">]</span> <span class="Operator">=</span> <span class="Constant">0</span><span class="Parenthesis">)</span> <span class="Keyword">Loop</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">520</span>     <span class="Keyword">If</span> signature<span class="Parenthesis">[</span>j<span class="Parenthesis">]</span> <span class="Operator">=</span> <span class="String">'<b>\<i>n</i></b>'</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">521</span>     i<span class="Operator">:</span>
 <span class="LineNumber">522</span>       <span class="Operator">=</span> <span class="Parenthesis">(</span>i <span class="Operator">/</span> windowWidth <span class="Operator">+</span> <span class="Constant">1</span><span class="Parenthesis">)</span> <span class="Operator">*</span> windowWidth<span class="Keyword">;</span>
 <span class="LineNumber">523</span>     <span class="Parenthesis">}</span>
 <span class="LineNumber">524</span>     <span class="Keyword">ElseIf</span> <span class="Operator">not</span><span class="Parenthesis">(</span>signature<span class="Parenthesis">[</span>j<span class="Parenthesis">]</span> <span class="Operator">=</span> <span class="Constant">0</span><span class="Parenthesis">)</span> <span class="Keyword">Then</span> <span class="Parenthesis">{</span>
 <span class="LineNumber">525</span>       output<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> signature<span class="Parenthesis">[</span>j<span class="Parenthesis">]</span><span class="Keyword">;</span>
 <span class="LineNumber">526</span>       colors<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> modraColor<span class="Keyword">;</span>
 <span class="LineNumber">527</span>       i <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">528</span>     <span class="Parenthesis">}</span>
 <span class="LineNumber">529</span>     <span class="Keyword">Else</span> <span class="Parenthesis">{</span> output<span class="Parenthesis">[</span>i<span class="Parenthesis">]</span> <span class="Operator">:</span> <span class="Operator">=</span> <span class="String">' '</span><span class="Keyword">;</span> <span class="Parenthesis">}</span>
 <span class="LineNumber">530</span>     <span class="Keyword">EndIf</span><span class="Keyword">;</span>
 <span class="LineNumber">531</span>     j <span class="Operator">+</span><span class="Operator">=</span> <span class="Constant">1</span><span class="Keyword">;</span>
 <span class="LineNumber">532</span>   <span class="Parenthesis">}</span>
 <span class="LineNumber">533</span>   <span class="Keyword">EndWhile</span><span class="Keyword">;</span>
 <span class="LineNumber">534</span> <span class="Parenthesis">}</span>
 <span class="LineNumber">535</span> <span class="Keyword">EndFunction</span><span class="Keyword">;</span>
 <span class="LineNumber">536</span> 
</pre>
</body>
</html>
